{"componentChunkName":"component---src-templates-post-tsx","path":"/blog/jenkins-젠킨스-원격-배포-cd-수행하기/","result":{"data":{"markdownRemark":{"html":"<p>젠킨스 서버에서 CI된 결과물을 원격 서버에 CD하기.</p>\n<p>선결조건</p>\n<ul>\n<li>젠킨스 구동 중</li>\n<li>CI(빌드) 세팅 완료</li>\n</ul>\n<p>원리</p>\n<ul>\n<li>publish over ssh 플러그인 사용</li>\n<li>scp를 통해 배포파일 (spring의 경우는 **.jar) 전송</li>\n<li>ssh를 통해 배포파일 실행(서버 가동스크립트)</li>\n</ul>\n<h3 id=\"jenkins-on-use--1--사전--설정-원격지-등록\" style=\"position:relative;\"><a href=\"#jenkins-on-use--1--%EC%82%AC%EC%A0%84--%EC%84%A4%EC%A0%95-%EC%9B%90%EA%B2%A9%EC%A7%80-%EB%93%B1%EB%A1%9D\" aria-label=\"jenkins on use  1  사전  설정 원격지 등록 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jenkins on use -1 : 사전  설정 (원격지 등록)</h3>\n<ul>\n<li><strong>Jenkins > Jenkins관리 > 시스템 설정화면</strong></li>\n</ul>\n<img src=\"/assets/img/jenkins/jenkins_001.PNG\">\n<p><em>아래쪽 publish over ssh 탭 작성</em></p>\n<p>Key 탭 - 원격지에 접근하기 위한 키 작성</p>\n<p>SSH Servers탭 - 배포파일을 전송할 원격지</p>\n<ul>\n<li>Name - 구분을 위한 이름</li>\n<li>hostname - 호스트 주소</li>\n<li>username - 연결을 위한 유저 이름</li>\n</ul>\n<p>왼쪽 아래 저장버튼을 눌러 원격지 등록 완료!</p>\n<h3 id=\"jenkins-on-use--2--프로젝트-빌드ci-이후-원격지로-실제-배포하기\" style=\"position:relative;\"><a href=\"#jenkins-on-use--2--%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EB%B9%8C%EB%93%9Cci-%EC%9D%B4%ED%9B%84-%EC%9B%90%EA%B2%A9%EC%A7%80%EB%A1%9C-%EC%8B%A4%EC%A0%9C-%EB%B0%B0%ED%8F%AC%ED%95%98%EA%B8%B0\" aria-label=\"jenkins on use  2  프로젝트 빌드ci 이후 원격지로 실제 배포하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Jenkins on use -2 : 프로젝트 빌드(CI) 이후 원격지로 실제 배포하기</h3>\n<ul>\n<li><strong>각자 프로젝트  선택 > 구성 > Build탭의 add build step > send files or execute commands over SSH</strong></li>\n</ul>\n<img src=\"/assets/img/jenkins/jenkins_002.PNG\">\n<ul>\n<li><strong>접속 이후 수행동작 작성하기</strong></li>\n</ul>\n<img src=\"/assets/img/jenkins/jenkins_003.PNG\">\n<h3 id=\"항목들--설명\" style=\"position:relative;\"><a href=\"#%ED%95%AD%EB%AA%A9%EB%93%A4--%EC%84%A4%EB%AA%85\" aria-label=\"항목들  설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>항목들  설명</h3>\n<ul>\n<li>SSH Server - Name - 사전 설정과정에서 등록한 서버의 이름</li>\n<li>Transfes\n<ul>\n<li>Source files : 젠킨스 서버에서 빌드 완료된 배포파일(전송할 배포파일)</li>\n<li>Exec command : 배포파일 실행 명령</li>\n</ul>\n</li>\n</ul>\n<p>저장을 눌러 배포 설정 완료하고,</p>\n<p>빌드 수행!</p>","fields":{"slug":"jenkins-젠킨스-원격-배포-cd-수행하기"},"frontmatter":{"title":"[Jenkins] 젠킨스 원격 배포 (CD) 수행하기","date":"12.03.2019","category":"howto","tags":null,"banner":null,"description":null},"timeToRead":1}},"pageContext":{"slug":"jenkins-젠킨스-원격-배포-cd-수행하기","prev":{"excerpt":"스프링에서 API Key 또는 비밀스러운 정보를 따로 관리해야 할 때(에를 들어 public git 시스템에 푸쉬), 역할에 따른 설정파일이 필요할 때는 application.yml 이외의 설정파일을 추가해야합니다. 이 떄, 스프링 부트에서 설정파일을 나누는 방법으로, 별도의 설정 없이 ***.yml파일 추가 후, 아래 코드와 같이 실행파일의 경로를 등록해주면 됩니다.","html":"<p>스프링에서 API Key 또는 비밀스러운 정보를 따로 관리해야 할 때(에를 들어 public git 시스템에 푸쉬), 역할에 따른 설정파일이 필요할 때는 application.yml 이외의 설정파일을 추가해야합니다.</p>\n<p>이 떄, 스프링 부트에서 설정파일을 나누는 방법으로, 별도의 설정 없이 ***.yml파일 추가 후, 아래 코드와 같이 실행파일의 경로를 등록해주면 됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@SpringBootApplication</span>\r\n<span class=\"token annotation punctuation\">@EnableGlobalMethodSecurity</span><span class=\"token punctuation\">(</span>securedEnabled <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\r\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">JclipProtoApplication</span> <span class=\"token punctuation\">{</span>\r\n\t<span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">String</span> <span class=\"token constant\">APPLICATION</span><span class=\"token operator\">=</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"token string\">\"spring.config.location=\"</span><span class=\"token operator\">+</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"token string\">\"classpath:/application.yml,\"</span><span class=\"token operator\">+</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"token string\">\"classpath:/private.yml\"</span><span class=\"token punctuation\">;</span>\r\n\r\n\t<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\r\n\t\t<span class=\"token keyword\">new</span> <span class=\"token class-name\">SpringApplicationBuilder</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JclipProtoApplication</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">properties</span><span class=\"token punctuation\">(</span><span class=\"token constant\">APPLICATION</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\r\n\t\t\r\n<span class=\"token comment\">//\t\tSpringApplication.run(JclipProtoApplication.class, args);</span>\r\n\t<span class=\"token punctuation\">}</span></code></pre></div>","id":"091853fb-cd7e-58f0-893f-b0bdbd92962a","fields":{"slug":"spring-boot-토막글-spring-boot-프로젝트에서-여러개의-설정파일-추가"},"frontmatter":{"date":"2019-11-13","title":"[Spring Boot,토막글] Spring boot 프로젝트에서 여러개의 설정파일 추가","category":"spring","tags":null,"banner":null,"description":null},"timeToRead":1},"next":{"excerpt":"mysql 서버에서, remote주소를 통해 접근가능한 계정을 생성한다 아래와 같은 내용이 들어있는 설정파일에서, bind-address항목을 mysql 서버의 주소(외부에서 접근가능한 자기자신의 퍼블릭 주소)를 기재한다. 이후, servicee mysql restart","html":"<ol start=\"0\">\n<li>mysql 서버에서, remote주소를 통해 접근가능한 계정을 생성한다</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"mysql\"><pre class=\"language-mysql\"><code class=\"language-mysql\">create user [usrname]@[remote_addr] identified by [passowrd];</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">vi</span> /etc/mysql/mysqld/mysqld.conf.d/mysqld.cnf</code></pre></div>\n<p>아래와 같은 내용이 들어있는 설정파일에서,</p>\n<ol>\n<li>bind-address항목을 mysql 서버의 주소(외부에서 접근가능한 자기자신의 퍼블릭 주소)를 기재한다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>mysqld<span class=\"token punctuation\">]</span>\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># * Basic Settings</span>\n<span class=\"token comment\">#</span>\nuser            <span class=\"token operator\">=</span> mysql\npid-file        <span class=\"token operator\">=</span> /var/run/mysqld/mysqld.pid\nsocket          <span class=\"token operator\">=</span> /var/run/mysqld/mysqld.sock\nport            <span class=\"token operator\">=</span> <span class=\"token number\">3306</span>\nbasedir         <span class=\"token operator\">=</span> /usr\ndatadir         <span class=\"token operator\">=</span> /var/lib/mysql\ntmpdir          <span class=\"token operator\">=</span> /tmp\nlc-messages-dir <span class=\"token operator\">=</span> /usr/share/mysql\nskip-external-locking\n<span class=\"token comment\">#</span>\n<span class=\"token comment\"># Instead of skip-networking the default is now to listen only on</span>\n<span class=\"token comment\"># localhost which is more compatible and is not less secure.</span>\nbind-address            <span class=\"token operator\">=</span> <span class=\"token number\">127.0</span>.0.1\n</code></pre></div>\n<ol start=\"2\">\n<li>이후, servicee mysql restart</li>\n</ol>","id":"67a72b0a-7a29-54dc-96ff-0960379f2469","fields":{"slug":"mysql-mysql-원격-접속-가능하도록-설정하기"},"frontmatter":{"date":"2019-12-04","title":"[Mysql] mysql 원격 접속 가능하도록 설정하기","category":"howto","tags":null,"banner":null,"description":null},"timeToRead":1}}},"staticQueryHashes":[],"slicesMap":{}}