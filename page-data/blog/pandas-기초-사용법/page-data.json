{"componentChunkName":"component---src-templates-post-tsx","path":"/blog/pandas-기초-사용법/","result":{"data":{"markdownRemark":{"html":"<h1 id=\"공통코드\" style=\"position:relative;\"><a href=\"#%EA%B3%B5%ED%86%B5%EC%BD%94%EB%93%9C\" aria-label=\"공통코드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>공통코드</h1>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\ndata <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'mglee'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">23</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'python'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">23</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'pandas'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">23</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span><span class=\"token string\">'name'</span><span class=\"token punctuation\">:</span><span class=\"token string\">'datadog'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'age'</span><span class=\"token punctuation\">:</span> <span class=\"token number\">23</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># 아래와 같이 선언할수도 있음</span>\ndata <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>DataFrame<span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"mglee\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"python\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"pandas\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"datadog\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"age\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">23</span><span class=\"token punctuation\">,</span><span class=\"token number\">23</span><span class=\"token punctuation\">,</span><span class=\"token number\">23</span><span class=\"token punctuation\">,</span><span class=\"token number\">23</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h3 id=\"loc-label이나-쿼리를-통해-선택하는-방법\" style=\"position:relative;\"><a href=\"#loc-label%EC%9D%B4%EB%82%98-%EC%BF%BC%EB%A6%AC%EB%A5%BC-%ED%86%B5%ED%95%B4-%EC%84%A0%ED%83%9D%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-label=\"loc label이나 쿼리를 통해 선택하는 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>loc: label이나 쿼리를 통해 선택하는 방법</h3>\n<p>label orientied : inclusive of end</p>\n<blockquote>\n<p>Location</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"></code></pre></div>\n<h3 id=\"iloc-행번호로-선택하는-방법\" style=\"position:relative;\"><a href=\"#iloc-%ED%96%89%EB%B2%88%ED%98%B8%EB%A1%9C-%EC%84%A0%ED%83%9D%ED%95%98%EB%8A%94-%EB%B0%A9%EB%B2%95\" aria-label=\"iloc 행번호로 선택하는 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>iloc: 행번호로 선택하는 방법</h3>\n<p>position oriented : exclusive of end</p>\n<blockquote>\n<p>Index location</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\">data<span class=\"token punctuation\">.</span>iloc<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">#    name   age</span>\n<span class=\"token comment\"># 0  mglee  23</span></code></pre></div>","fields":{"slug":"pandas-기초-사용법"},"frontmatter":{"title":"Pandas 기초 사용법","date":"05.15.2021","category":"howto","tags":["datascience","pandas"],"banner":"/assets/bg/2.jpg"},"timeToRead":1}},"pageContext":{"slug":"pandas-기초-사용법","prev":{"excerpt":"회고는 항상 연말에 쓰거나 월말에 혼자 끄적였던 것 같다. 고민해야 할 중요한 문제가 많았으면 최대한 그 느낌이 날아가기 전에 쓰는게 좋은 것 같다. 이번 회고에서는 어떤 갈림길이 있었고 나는 여기서 어떤 선택을 했었는지만 간단히 돌아보려 한다. 즉, 어떤 일이 있었고, 원하는 것은 꾸준히 했는지, 뭐 하고싶은지 끄적이려 한다. 어떤 일들이 있었나? 1~…","html":"<p>회고는 항상 연말에 쓰거나 월말에 혼자 끄적였던 것 같다.<br>\n고민해야 할 중요한 문제가 많았으면 최대한 그 느낌이 날아가기 전에 쓰는게 좋은 것 같다.</p>\n<p>이번 회고에서는 어떤 갈림길이 있었고 나는 여기서 어떤 선택을 했었는지만 간단히 돌아보려 한다.</p>\n<p>즉, 어떤 일이 있었고, 원하는 것은 꾸준히 했는지, 뭐 하고싶은지 끄적이려 한다.</p>\n<h2 id=\"어떤-일들이-있었나\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EB%96%A4-%EC%9D%BC%EB%93%A4%EC%9D%B4-%EC%9E%88%EC%97%88%EB%82%98\" aria-label=\"어떤 일들이 있었나 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어떤 일들이 있었나?</h2>\n<p>1~ 2월<br>\n연구실에서 잠깐 나와 경기도 성남 소재 기업에서 개발자로 인턴을 시작했다.<br>\n피아노를 시작했고 글또라는 글쓰기 모임에 조인했다.</p>\n<p>3월<br>\nNode를 처음 시작했고 React에서는 Redux/saga 등 처음 사용하는 라이브러리를 많이 익혔다.<br>\n개발병 TO배정이 불안정해져 군대 문제가 다시 큰 비중을 차지했다.</p>\n<p>5월<br>\n정보처리기사 시험을 응시했다.\n공모전을 준비하고있고, 회사로부터 정직원 제의를 받았다.</p>\n<p>6월 ~ 12월\n구름에서 일하면서 많은 것들을 배웠다. TDD나 Clean Code같이, 아직은 익숙하지 않지만 개발자로서 꾸준히 익혀나가야 할 부분들이나, 협업을 위해서 형상관리도구를 본격적으로 사용했다.</p>\n<p>실제 운영 서비스를 개발한다는건, 코드에 책임감이 더 붙는다는 뜻이다. 앞으로도 더 공부하고 공부해야지..\n특히 팀과 회사가 어떤 프로세스로 돌아가는지 경험하는 것은 정말 귀중한 경험이었다.</p>\n<p>7월\nSW개발병 서류/면접까지 모두 합격했다..!\nROTC 후보생을 그만두고, 3학년에서 4학년 되는 시점에 군 문제를 해결하면서, 많은 고민이 있었다.\n학교를 뛰쳐나와 회사에 다닌것도 현역 병역특례회사에 들어가기 위함이었고, 정직원으로 전환될때도 대표님께 이 말씀을 드렸다.\n(11월에 현역티오 선정결과가 나오고, 이게 불확실하다는 답변을 들어, 개발병 준비를 시작했다.)</p>\n<p>12월 말\n곧...입대..</p>\n<h2 id=\"sw-개발병-지원-후기\" style=\"position:relative;\"><a href=\"#sw-%EA%B0%9C%EB%B0%9C%EB%B3%91-%EC%A7%80%EC%9B%90-%ED%9B%84%EA%B8%B0\" aria-label=\"sw 개발병 지원 후기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>sw 개발병 지원 후기</h2>\n<p>서류 - 2명을 뽑는 프로세스에서 100명 가까이 지원해 48:1의 경쟁률이었는데, 서류에서 합격한게 정말 운이 좋았다. 학년 점수 + 정보처리기사 + 동아리, 경력 등으로 40점 만점 중 거의 모든 점수를 채웠다고 생각했는데도 서류점수 6명중 6등으로 면접을 볼 수 있었다. (이건 나중에 알았는데, 면접보는 순서가 서류 점수 순서라고 해서 서류점수 등수를 알게되었다.)</p>\n<p>면접 - 다대 일 면접으로 생각보다 면접질문은 까다로웠고, 열심히 대답했지만 완벽하진 않았다고 생각한다. 전공지식과 더불어, 진행한 프로젝트에 대해 질문을 받았고, 준비한 만큼 최대한 꼼곰하게 대답했다. 아무래도 군대이다보니, 언어적/비언어적 행동에서 무례하거나 산만한 태도가 나오지 않고, 차분한 느낌을 받을 수 있도록 대답했다. (*다니고있던 회사가 오픈소스 해커톤을 군대에서 주최해서, 나에게 은근 관심히 있어보이는듯 했다.)</p>\n<h2 id=\"작년에-배포한-vscode앱-리뉴얼---junit-testfile-generator\" style=\"position:relative;\"><a href=\"#%EC%9E%91%EB%85%84%EC%97%90-%EB%B0%B0%ED%8F%AC%ED%95%9C-vscode%EC%95%B1-%EB%A6%AC%EB%89%B4%EC%96%BC---junit-testfile-generator\" aria-label=\"작년에 배포한 vscode앱 리뉴얼   junit testfile generator permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>작년에 배포한 vscode앱 리뉴얼 - Junit Testfile Generator</h2>\n<img src=\"/assets/img/etc/junitgen.JPG\">\n<p>내가 불편해서 만든 앱인데, 사용자가 1000명이 넘었다. (재설치, 업데이트를 제외하고 순수한 1000회 설치!)<br>\nJava 개발자들이 조금씩 인텔리제이나 이클립스 대신 VSCode를 사용하게 되면서, VSCode에 없는 인텔리제이,이클립스 기능을 찾기 시작했다. (나도 그랬고..)</p>\n<p>특히 나는 테스트파일을 만들기 위해 src아래의 tree level을 똑같이 test 아래에 만들어야 하는게 불편했다.<br>\n어쨋든 이런 기류에 편승해서 1000명이나 되는 사용자가 생긴게 아닌가 싶다.</p>\n<p>만들고 1~2달정도 사용한 뒤로 정작 나는 자바 개발이 뜸해져 내 맘속에선 잊혀졌는데,<br>\n다른 개발자분들이 내가 만든 앱을 사용하면서 Issue/email을 통해 불편한점이나 개선사항을 알려주셔서 나도 이 앱에 대한 책임감(?)이 계속 리마인드됐다.</p>\n<h2 id=\"정보처리기사-후기\" style=\"position:relative;\"><a href=\"#%EC%A0%95%EB%B3%B4%EC%B2%98%EB%A6%AC%EA%B8%B0%EC%82%AC-%ED%9B%84%EA%B8%B0\" aria-label=\"정보처리기사 후기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>정보처리기사 후기</h2>\n<p>두번 미뤄지고 우여곡절 끝에 정처기 필기시험에 응시했다. 코로나로 인해 1,2회차가 통합 시행돼 이번년도에 기회가 한번 줄었다는 생각이 들었다.</p>\n<p>사실 컴공에서 기사시험(필기)의 위상은 리눅스마스터 2급정도 되는데, 2020년 1회차부터 전면 개편된다 했고,<br>\n난이도가 높을것이라는 이야기가 돌았다.<br>\n필기는 공부 안하고, 실기는 2주정도 하는 형들이 많았는데,<br>\n이번 시험은 필기를 한달 전부터 공부하는분들도 보였다.</p>\n<p>나는 회사에 다니면서 하느라 1주일정도 출/퇴근시간 지하철에서, 퇴근후 시간에, 시험 전날에 반차내고 열심히 공부했다.<br>\n열심히라는 단어를 쓰긴 했는데, \"1주일\"과 \"열심히\"라는 단어가 같이있는게 참 어색하다.</p>\n<p>난이도가 높을거라는 얘기때문에 합격하기 힘들것같다는 생각을 하고, 합격하면 실기 공부 진짜 열심히할거라고 기도하면서 봤는데 막상 시험이 그렇게 어렵지는 않았다.</p>\n<p>1회차라 난이도 조절을 해준것 같았고, 필기/실기 가채점 결과 매우 여유롭게 합격했다.</p>\n<h3 id=\"대학원-하니까-생각났는데\" style=\"position:relative;\"><a href=\"#%EB%8C%80%ED%95%99%EC%9B%90-%ED%95%98%EB%8B%88%EA%B9%8C-%EC%83%9D%EA%B0%81%EB%82%AC%EB%8A%94%EB%8D%B0\" aria-label=\"대학원 하니까 생각났는데 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>대학원 하니까 생각났는데...</h3>\n<p>작년 여름에 교수님께서 작성하는 연구 논문의 아이디어를 구현했는데, 이제야 그 논문이 억셉되어 곧 출판된다고 한다. 저자는 아니고 컨트리뷰터로 이름이 올라갔지만 정말 뿌듯하고 신기했다.</p>\n<p>한편으론 10개월 전에 작업한것이 이제야 올라갔다는걸 듣고, 나는 작업 결과물이 바로바로 나와야 동기를 얻는 스타일인데, 연구하는게 과연 내 적성에 맞을까도 생각해봤다.</p>\n<h3 id=\"계획을-돌아보면서\" style=\"position:relative;\"><a href=\"#%EA%B3%84%ED%9A%8D%EC%9D%84-%EB%8F%8C%EC%95%84%EB%B3%B4%EB%A9%B4%EC%84%9C\" aria-label=\"계획을 돌아보면서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>계획을 돌아보면서..</h3>\n<p>2019년 하반기에는 목표가 불분명했지만, 앞에 놓여진 일을 열심히 해서인지 몇가지 일에 대해서는 꽤 만족스러운 결과를 만들어낸 시기였다.<br>\n하지만 그것과 별개로 진로에 대해 막연하게 생각했던 부분이 지금와서 발목을 세게 잡고있는듯 하다.</p>\n<p>2020년 상반기는 작년에 계획한것들에서 많이 엇나갔지만, 전혀 상상도 못한 일상을 보내고 있다.<br>\n미래의 계획을 세우는것은 그 때의 상황이나 기분을 파악하지 않은 계획이기때문에 오래전에 세운 게획대로 살아가는건 힘들다.<br>\n앞으로 회고에서는 과거의 행적을 돌아보고 행적에 대한 계획보다는 방향, 단기간 목표를 설정해야겠다.</p>","id":"9993e6a1-ed07-59de-b542-9c954fc8c21d","fields":{"slug":"2020-회고"},"frontmatter":{"date":"2020-12-19","title":"2020 회고","category":"etc","tags":["회고"],"banner":null},"timeToRead":2},"next":{"excerpt":"Traefik 리버스 프록시 및 로드밸런싱을 제공하는 오픈소스 소프트웨어. tyk나 nginx와 비교할 수 있음 Edge Router라는 표현을 사용한다. 즉, 서버의 가장 말단에서 들어오는 모든 요청을 인터셉트하여 라우팅하는 역할을 한다는 의미 Auto Service Discovery를 제공한다. 정적으로 설정파일을 읽어 라우팅하는 다른 리버스 프록시들과 달리, 실시간으로 설정 수정과 반영이 가능하다는 의미. 도커에서 사용 시, traefik…","html":"<h1 id=\"traefik\" style=\"position:relative;\"><a href=\"#traefik\" aria-label=\"traefik permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Traefik</h1>\n<p>리버스 프록시 및 로드밸런싱을 제공하는 오픈소스 소프트웨어.<br>\ntyk나 nginx와 비교할 수 있음</p>\n<p><strong>Edge Router</strong>라는 표현을 사용한다.<br>\n즉, 서버의 가장 말단에서 들어오는 모든 요청을 인터셉트하여 라우팅하는 역할을 한다는 의미</p>\n<p><strong>Auto Service Discovery</strong>를 제공한다. 정적으로 설정파일을 읽어 라우팅하는 다른 리버스 프록시들과 달리, 실시간으로 설정 수정과 반영이 가능하다는 의미.</p>\n<p>도커에서 사용 시, traefik과 다른 컨테이너가 같은 네트워크에서 동작해야한다. 따라서 아래의 nasa-img search 앱의 network를 설정해준다.</p>\n<p><a href=\"https://docs.docker.com/compose/compose-file/compose-file-v3/#network-configuration-reference\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">docker-compose에서 network 설정 문서</a></p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\">#https://pages.wiserain.com/articles/deploying-guacamole-using-docker/</span>\n<span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.7\"</span>\n\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">sample</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># container_name: nasa-imagesearch</span>\n    <span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">bridgenet</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> httpd<span class=\"token punctuation\">:</span>latest\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">\"./build:/usr/local/apache2/htdocs\"</span>\n    <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> traefik.http.routers.sample.rule=Host(`nasa<span class=\"token punctuation\">-</span>imgs.mglee.dev`)\n<span class=\"token key atrule\">networks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">bridgenet</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">external</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> traefik_default</code></pre></div>\n<h2 id=\"httpsssl-setting\" style=\"position:relative;\"><a href=\"#httpsssl-setting\" aria-label=\"httpsssl setting permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTTPS(ssl) setting</h2>\n<p><a href=\"https://doc.traefik.io/traefik/https/acme/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://doc.traefik.io/traefik/https/acme/</a> 번역\n<a href=\"https://github.com/cedrichopf/traefik-dockerized#lets-encrypt\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://github.com/cedrichopf/traefik-dockerized#lets-encrypt</a></p>\n<h3 id=\"certificate-resolvers--인증-리졸버\" style=\"position:relative;\"><a href=\"#certificate-resolvers--%EC%9D%B8%EC%A6%9D-%EB%A6%AC%EC%A1%B8%EB%B2%84\" aria-label=\"certificate resolvers  인증 리졸버 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Certificate Resolvers : 인증 리졸버</h3>\n<p>ACME 서버에서 인증서를 가져오기 위해서, Traefik의 <strong>static 설정 파일에</strong> Certificate Resolver를 정의해야한다.</p>\n<p>Router에서 TLS를 허용해준 뒤, tls.certresolver 설정 옵션을 통해 Certificate Resolver에 할당해주어야 한다.</p>\n<p>인증서들은 dynamic configuration으로부터 가져온 도메인 이름을 요청받는다.</p>\n<h3 id=\"domain-definition\" style=\"position:relative;\"><a href=\"#domain-definition\" aria-label=\"domain definition permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Domain Definition</h3>\n<p>Certificate Resolvers들은 아래 로직으로부터 라우터에 의해 추려진, 도메인 이름의 집합에 대한 인증서를 요청한다.</p>\n<ul>\n<li>\n<p>만약 라우터가 tls.domains 옵션 집합을 가지고있다면, 라우터의 도메인 이름을 찾기 위해 certificate resolver는 tls.domains 아래의 main(또는 sans)옵션을 사용한다.</p>\n</li>\n<li>\n<p>만약 라우터가 tls.domains옵션이 없다면, certificate resolver는 Host() matcher를 체크해 router의 규칙을 사용한다.</p>\n</li>\n</ul>\n<p>++\ntraefik 컨테이너를 restart하는 경우 아래와 같은 에러가 발생했다.\n내부적으로, 재시작하는 과정에서 네트워크가 사용이 꼬인듯 했다.\ndocker stop을 먼저 해주고, 잠시 뒤 docker start 해주면 에러 없이 실행되었다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">time=\"2021-04-05T13:51:58Z\" level=error msg=\"accept tcp [::]:80: use of closed network connection\" entryPointName=http\ntime=\"2021-04-05T13:51:58Z\" level=error msg=\"Error while starting server: http: Server closed\" entryPointName=http\ntime=\"2021-04-05T13:51:58Z\" level=error msg=\"Error while starting server: http: Server closed\" entryPointName=http\ntime=\"2021-04-05T13:51:58Z\" level=error msg=\"accept tcp [::]:443: use of closed network connection\" entryPointName=https\ntime=\"2021-04-05T13:51:58Z\" level=error msg=\"Error while starting server: http: Server closed\" entryPointName=https\ntime=\"2021-04-05T13:51:58Z\" level=error msg=\"accept tcp [::]:8080: use of closed network connection\" entryPointName=traefik\ntime=\"2021-04-05T13:51:58Z\" level=error msg=\"Error while starting server: http: Server closed\" entryPointName=traefik\ntime=\"2021-04-05T13:51:58Z\" level=error msg=\"Error while starting server: http: Server closed\" entryPointName=https\ntime=\"2021-04-05T13:51:58Z\" level=error msg=\"Error while starting server: http: Server closed\" entryPointName=traefik\ntime=\"2021-04-05T13:51:58Z\" level=error msg=\"close tcp [::]:8080: use of closed network connection\" entryPointName=traefik\ntime=\"2021-04-05T13:51:58Z\" level=error msg=\"close tcp [::]:443: use of closed network connection\" entryPointName=https\ntime=\"2021-04-05T13:51:58Z\" level=error msg=\"close tcp [::]:80: use of closed network connection\" entryPointName=http\n</code></pre></div>\n<h1 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h1>\n<p>traefik concepts - <a href=\"https://doc.traefik.io/traefik/providers/overview/#orchestrators\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://doc.traefik.io/traefik/providers/overview/#orchestrators</a><br>\ntraefik setup at docker - <a href=\"https://doc.traefik.io/traefik/providers/docker/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://doc.traefik.io/traefik/providers/docker/</a><br>\ntraefik setup at k8s ingress(Router) -<br>\ntraefik setup ssl - <a href=\"https://doc.traefik.io/traefik/https/acme/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://doc.traefik.io/traefik/https/acme/</a>\nk8s ingress - <a href=\"https://kubernetes.io/ko/docs/concepts/services-networking/ingress/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://kubernetes.io/ko/docs/concepts/services-networking/ingress/</a></p>","id":"1222e65a-0075-58ea-befb-ebe832a04b1c","fields":{"slug":"traefik-오픈소스-네트워크-게이트웨이"},"frontmatter":{"date":"2021-05-15","title":"Traefik: 오픈소스 네트워크 게이트웨이","category":"howto","tags":["traefik","opensource"],"banner":"/assets/bg/2.jpg"},"timeToRead":2}}},"staticQueryHashes":[],"slicesMap":{}}