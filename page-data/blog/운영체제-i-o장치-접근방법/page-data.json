{"componentChunkName":"component---src-templates-post-tsx","path":"/blog/운영체제-i-o장치-접근방법/","result":{"data":{"markdownRemark":{"html":"<h2 id=\"io-장치와-접근방법\" style=\"position:relative;\"><a href=\"#io-%EC%9E%A5%EC%B9%98%EC%99%80-%EC%A0%91%EA%B7%BC%EB%B0%A9%EB%B2%95\" aria-label=\"io 장치와 접근방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>I/O 장치와 접근방법</h2>\n<p>앞선 가상화, 동시성 파트에서는 CPU,메모리 자원을 여러 프로세스가 함께 사용하는 방법과 자원을 안전하게 공 유하는 방법에 대해 알아봤습니다.\n가상화, 동시성 파트에서는 메모리, CPU를 여러 프로세스가 함께 사용한다는 개념이었던 반면, 파일시스템에서는 파일의 소유권이 명확히 정해져 있습니다.</p>\n<p>또한, 영속성 파트에서는 전원이 꺼지면 데이터가 사라져버리는 휘발성 저장장치인 메모리와 레지스터와 달리, 비휘발성인 저장소 하드 디스크를 공부하며, 이를 사용자가 관리할 수 있도록 제공되는 인터페이스인 파일 시스템에 대한 내용도 다룹니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 651px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/471f62ddf7e3dd5f551a2584ea21f224/1ac66/System_Bus.drawio_(1).png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 84.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAIQnRFWHRteGZpbGUAJTNDbXhmaWxlJTIwaG9zdCUzRCUyMmFwcC5kaWFncmFtcy5uZXQlMjIlMjBtb2RpZmllZCUzRCUyMjIwMjMtMDItMDVUMDYlM0EwNyUzQTUxLjc5NFolMjIlMjBhZ2VudCUzRCUyMjUuMCUyMChNYWNpbnRvc2glM0IlMjBJbnRlbCUyME1hYyUyME9TJTIwWCUyMDEwXzE1XzcpJTIwQXBwbGVXZWJLaXQlMkY1MzcuMzYlMjAoS0hUTUwlMkMlMjBsaWtlJTIwR2Vja28pJTIwQ2hyb21lJTJGMTA5LjAuMC4wJTIwU2FmYXJpJTJGNTM3LjM2JTIyJTIwZXRhZyUzRCUyMkd1V2QxMHFEU1RwaEM2b2tNU3FYJTIyJTIwdmVyc2lvbiUzRCUyMjIwLjguMTYlMjIlMjB0eXBlJTNEJTIyZ29vZ2xlJTIyJTNFJTNDZGlhZ3JhbSUyMG5hbWUlM0QlMjIlRUQlOEUlOTglRUMlOUQlQjQlRUMlQTclODAtMSUyMiUyMGlkJTNEJTIyeVN3akNNNkEydUJ6TnJERHNzaXolMjIlM0U3VnJaa3BzNEZQMGFIak9GRUdCNE5MWjdNbFhwNnE3cHlpeFBLYlZSWXlZWXVZVGN0dWZyNTJJa0F4SmVFaTlNWEhucFJnY3RjTTlkam9RdFBKcXZmJTJCVmtNWHRrTWMwc3g0N1hGaDViam9PY2dRUCUyRlNtUlRJYjRDRXA3R3NsTU52S1QlMkZVZ25hRWwybU1TMWFIUVZqbVVnWGJYREs4cHhPUlFzam5MTlZ1OXNieTlxckxraENEZUJsU2pJVCUyRlRPTnhheENBMmRRNHg5cG1zelV5c2dQcXp0em9qckxOeWxtSkdhckJvUW5GaDV4eGtSMU5WJTJCUGFGWWFUOW1sR3ZldzUlMkI3dXdUak54U2tEMW4lMkZZTWNxZnhQRGRuWVlmbGclMkZabCUyRmN2SDVCa294QWI5Y1kwQmdQSUp1Tml4aEtXazJ4U294Rm55enltNWJRMnRPbyUyQm54aGJBSWdBJTJGSWNLc1pGc2txVmdBTTNFUEpOM0MwRzRHSmJzQURETlNGR2tVd1UlMkZwSm5xVmoxYSUyQlR4N1gxbENCVnZ5S1Qzd250N080T0NwbE0ycDRCc1l4MmxHUlByZW5wOUlsMGwyJTJGWFpEbjFrS0t6dTJkRyUyRkhsOXhLNThhS2F6VUZ2RkJDaFJ4VmN3TVhqY2Vvb1MxajM4Q2VWNjMyVHJLbGZJWFI4MmZMOFRPd1R2VEs0U29SV3p2NlpBN01STlZmR1BFN1RkSkNVRzZRdjVxbGdyNHN5TmFZS3dqcE5uRnlQY29GWFIlMkZteExTMXNwbmR0aGtLWkh0Vmh4ZFNkcHcxUXN1Mzk5UFRNdXkzV2hFaHd3eDNHUVAlMkJWV0xBQyUyRnVOQWQlMkJJZ1I2YzJzTnRJNFFuJTJCalFhWE11cHclMkJObWdZSzBLQyUyRmZNcnFXamhqUlBON2preWJjTUdFN0drNzFXZE9jVFh2WlhmWlM0SmxPdTdPN2NscXM4VkFGayUyQkcweGtTJTJCZDJTaUszdSUyRmtra05uaCUyRnBuRzJOR1MwTGczTndjYUhuSWM2JTJCMGhITEdBY2taM21aM2Q0Z0FXa1F5ZElrTCUyRmtIRHFGdzRLZ01tQlNFMGxEZW1LZHh2RTJOWGVIVzVTQm5SUndPMm9idkNybWd3NE4wZmk1WFJiQlpqRUVObTlWNFRBUXgwWThVN05SVnVUWGtSWkRwMSUyRjlCaGtQNDFCUjNQWXU3cHUlMkJUTkFkRWhjQzlPciUyQm5aWjFkV3V6TiUyQlgzRDJEJTJCZWhMcTROUElkclRpNHB4V0hveE81OW1ubDZtSlZKcmdEZWs5UXlHaHdGVCUyRllIV2IwSlJJR1JxTGNudGFVQ1F6Z0Vjc2hEV1laNWFaZWdOblRSYkV2c1YyMnhDRGRUQjA3UTZkVEZlcHhkYkc4cGxUelR4bmR2ZmZUOHhMNlRoazlzTjNERTEwNVFod3pRcDVIdngzVzBKM2F3UkFLSFdLaVFYalBNa0klMkZ2dW9JT1AlMkJXTWdLYjBYV1hkUWJiM2J5Y3F6Y0dYanVLOU5PRkswZVI4b3RUc3VWMGs2VkFHOGZIUzh0clJmQ24xeDBBVzZCa1MlMkZ2VFVzQTBWQkZaTVl5OEM0V0hkckxsb1k0dHolMkJDbVd4Nk1UQXRQeGxib1dvRnJUU0pyaUt4d1pFMkdWalN3b3FCRXdvazFEQ3c4N05oYlRrYlcwTFpDVDE0RXFPd2ZqSzNJTHBFUUx0eHljcGdaRUFjZWVJdEgyJTJCWEttWEc1bHM1dkhZM29KcUxCUjIyZjMlMkJXMDNvNlRzWGtROEZNek5BalR6diUyQk5KSFd5WnRERng2MnpuWGNIeGVyeU5jZzlJZ2xQM3ZQcUUlMkJrQmUlMkJVOUx6WSUyRkxJQWdmSGk2ZDFIb3U1cUlVSDdlbXlnMHRmazRMY3d6MEx0bG9FdDMzSmFCc0k5TUI5YmltNyUyRks4Yjk0cXZsMzg5NTRMU2V2V2h2WjZrSE95JTJCT3hLclVkNkhqdXJ4RE9ZbEhsMDc1WWJITFlvUFRIWTdINjB0TVhqZW94bTE4OUhqOGIxRjVmZVdQdEk0VGptbW1xYTNmMEhZZDEwS3glMkZKMVVWJTJCUHJYWm5qeUh3JTNEJTNEJTNDJTJGZGlhZ3JhbSUzRSUzQyUyRm14ZmlsZSUzRfMBRdkAAAGMSURBVHjalZSLjoNACEX9/x80aaJtTGufsT5abauWzWGDQXf2NQkZB5kLXGCi9/stLPalmN7vr9dL8jyXJEkkyzIpy3L2P/KH5fJ6++77XqqqkrqupWkalRmgN+y6Th6Ph+7P5zMY9f1+1z1NUwUmYu94AgSkbVvZbDa6A+zXMAxqQ4o43+/3Cu4dzwABuN1uys3lclFj0rler/qNE6IBGFv06JAgoC0uW+rH41F2u50URaFnwMZxnJwjOAkWhTTYIZuLZkCK2+1W+ULHP+/Yd8gEiNHhcJDz+azRkA5AgHCGAnbO6BFsiB7dlwhJA48YLfvypzaylvG6CD6oFCnDB2KpeENfPBzT1Ov1WkGJ2LiMrEUg2HjBAbKcIJsU7LiDQBWUEJACAoAX4w9O+Gl9GJoWW9w7nU5Tk08RGrpV0XorNMs+YgCxZbZtgrQopGcpIEuQUGGwgzuoAhAqmLLot4fhu0oDYAWhfaCOKYtCD8BfIiQrhoBpAggHq9XqM+X/rGWEFCWOYwXnwfgAKsUxu4SxufgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"System Bus.drawio (1).png\"\n        title=\"\"\n        src=\"/static/471f62ddf7e3dd5f551a2584ea21f224/1ac66/System_Bus.drawio_(1).png\"\n        srcset=\"/static/471f62ddf7e3dd5f551a2584ea21f224/772e8/System_Bus.drawio_(1).png 200w,\n/static/471f62ddf7e3dd5f551a2584ea21f224/e17e5/System_Bus.drawio_(1).png 400w,\n/static/471f62ddf7e3dd5f551a2584ea21f224/1ac66/System_Bus.drawio_(1).png 651w\"\n        sizes=\"(max-width: 651px) 100vw, 651px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>그림: 컴퓨터의 하드웨어 장비와 연결구조. 제작하는 벤더와 시대별로 다를 수 있습니다.</p>\n<p><strong>노스브릿지와 사우스브릿지</strong></p>\n<p>메모리, GPU와 같은 고성능 처리장치들은 CPU와의 버스 거리를 최대한 짧게 유지해 공간 차지를 줄이고, 전송 속도를 높힙니다. 이를 메인보드 상에서, 윗쪽에 위치한 CPU와 가까이 있어, <strong>노스브릿지</strong> 라고 합니다.</p>\n<p>반면 디스크나 주변장치(키보드, 프린터 등 I/O 장치)들은 거리가 길어져, 접근 속도가 느립니다. 노스브릿지에 위치한 기기들보다 처리속도가 느리기 때문에, 상대적으로 더 먼 곳에 위치시켰습니다. 이를 <strong>사우스브릿지</strong> 라고 합니다.</p>\n<h3 id=\"io-장치-효율-개선\" style=\"position:relative;\"><a href=\"#io-%EC%9E%A5%EC%B9%98-%ED%9A%A8%EC%9C%A8-%EA%B0%9C%EC%84%A0\" aria-label=\"io 장치 효율 개선 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>I/O 장치 효율 개선</strong></h3>\n<p>키보드,프린터, 디스크 등 CPU와 처리속도의 차이가 존재하는 장치에 대해, 데이터 입/출력의 효율을 어떻게 개선해야 하는지에 대해서는 여러 논의와 함께 꾸준히 발전되어 왔습니다.</p>\n<p>아래에서 설명할 I/O방법들은 기본적으로 I/O장치의 처리속도가 CPU에 비해 매우매우 느리다는 사실을 바탕으로 합니다.\n이에 I/O작업에 의해  떨어지는 CPU의 처리량을 어떻게 개선할 것인가에 관한 논의입니다.</p>\n<h3 id=\"processor-controlled-io\" style=\"position:relative;\"><a href=\"#processor-controlled-io\" aria-label=\"processor controlled io permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>Processor Controlled I/O</strong></h3>\n<p>PIO는 I/O작업에 프로세서가 직접적으로 관여하는 방법을 말합니다.</p>\n<p><strong>Polling</strong></p>\n<p>Processor가 주기적으로 I/O장치 상태 확인하며, I/O가 끝났는지 확인합니다. 가장 오래된 방법입니다.</p>\n<p>CPU의 속도와 I/O장치의 처리속도가 클 수록 CPU가 I/O장치의 상태를 확인하는데 소요되는 시간이 늘어나, 처리량이 낭비됩니다.</p>\n<p><strong>Interrupt: 폴링의 대기시간 문제 해결</strong></p>\n<p>I/O가 시작된 프로세스는 Wait 상태로 들어가고, 다른 프로세스가 실행됩니다. I/O가 완료되면 하드웨어 인터럽트를 통해 원래 실행되던 프로세스를 깨워줍니다.</p>\n<ul>\n<li>Polling이 I/O가 끝날때까지 상태확인을 하는 반면, 다른 프로세스 실행 가능합니다. CPU 처리량이 낭비되지 않습니다.</li>\n<li>입출력이 잦고, I/O장치의 처리속도가 빠른 경우, Contex Switch Overhead가 발생합니다.</li>\n</ul>\n<p>처리장치의 속도가 빠르면 Polling이 유리하고, 그렇지 않다면 Interrupt 방법이 유리합니다. 따라서 디바이스에 맞는 인터럽트 처리 방법을 선택해 적용해야 CPU의 처리량 낭비를 줄일 수 있습니다.</p>\n<h3 id=\"dma\" style=\"position:relative;\"><a href=\"#dma\" aria-label=\"dma permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>DMA:</strong></h3>\n<p>프로세서 개입 없이 메모리-디스크 사이 데이터 I/O를 가능하도록 합니다.</p>\n<p>그렇다면, 프로세서가 개입하는 I/O(인터럽트, 폴링)는 어떤 문제가 있었는가?</p>\n<p>바로, <strong>버퍼를 이용한 대량 쓰기/읽기 시 발생하는 비효율 문제입니다.</strong></p>\n<blockquote>\n<p><strong>버퍼란?</strong> 데이터를 다루는 두 장치 간 속도 차이가 존재해도, 더 빠른 장치가 다른 작업을 수행해 줄 수 있도록 제공하는 임시 저장공간.</p>\n</blockquote>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cc9954c772e3f1ab37b49038fab12cdf/efc66/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.999999999999998%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAe0lEQVR42qWMMQrEIBQFc1ErG0GrNJI7iZXgTYRUWmsTFdHKt6ttttuBgf+KPwe+tNZQSkHOefs8z94xRtz3jRACjDE4zxNSSlzXBSEErLUYY6D3vjKYc+JYR0ppW2t9BZ1z8N5DKQVKKRhj4JyDEAKt9e/gel7+w4otPj/C2MfK5R2XAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"스크린샷 2023-05-01 오전 4.43.33.png\"\n        title=\"\"\n        src=\"/static/cc9954c772e3f1ab37b49038fab12cdf/5a190/1.png\"\n        srcset=\"/static/cc9954c772e3f1ab37b49038fab12cdf/772e8/1.png 200w,\n/static/cc9954c772e3f1ab37b49038fab12cdf/e17e5/1.png 400w,\n/static/cc9954c772e3f1ab37b49038fab12cdf/5a190/1.png 800w,\n/static/cc9954c772e3f1ab37b49038fab12cdf/efc66/1.png 885w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>위 그림에서 C는, CPU가 메모리의 데이터를 디스크 버퍼로 복사하는 과정입니다. 버퍼가 가득 차면 디스크에 저장하면서 2번 프로세스가 스케줄링 되어 효율적인것처럼 보이지만, C과정이 커지게 되면, CPU의 낭비가 더해집니다.</p>\n<p>이에, I/O장치와 CPU 사이에 DMA를 두고 메모리에 접근하는 I/O장치들의 처리를 전담합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2d48b9cbb663aba20da9a170f9a317a6/9b379/DMA.drawio.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAvz3RFWHRteGZpbGUAJTNDbXhmaWxlJTIwaG9zdCUzRCUyMmFwcC5kaWFncmFtcy5uZXQlMjIlMjBtb2RpZmllZCUzRCUyMjIwMjMtMDQtMzBUMTklM0E1OSUzQTMzLjg0MlolMjIlMjBhZ2VudCUzRCUyMk1vemlsbGElMkY1LjAlMjAoTWFjaW50b3NoJTNCJTIwSW50ZWwlMjBNYWMlMjBPUyUyMFglMjAxMF8xNV83KSUyMEFwcGxlV2ViS2l0JTJGNTM3LjM2JTIwKEtIVE1MJTJDJTIwbGlrZSUyMEdlY2tvKSUyMENocm9tZSUyRjExMi4wLjAuMCUyMFNhZmFyaSUyRjUzNy4zNiUyMiUyMGV0YWclM0QlMjJSM2hGbGY2bnAzR3RDNDdIQ0xCeiUyMiUyMHZlcnNpb24lM0QlMjIyMS4yLjElMjIlMjB0eXBlJTNEJTIyZ29vZ2xlJTIyJTNFJTBBJTIwJTIwJTNDZGlhZ3JhbSUyMG5hbWUlM0QlMjIlRUQlOEUlOTglRUMlOUQlQjQlRUMlQTclODAtMSUyMiUyMGlkJTNEJTIyWnVBR05FSE10c1Fhb2p1OW9FNXclMjIlM0UlMEElMjAlMjAlMjAlMjAlM0NteEdyYXBoTW9kZWwlMjBkeCUzRCUyMjk1NCUyMiUyMGR5JTNEJTIyNTA0JTIyJTIwZ3JpZCUzRCUyMjElMjIlMjBncmlkU2l6ZSUzRCUyMjEwJTIyJTIwZ3VpZGVzJTNEJTIyMSUyMiUyMHRvb2x0aXBzJTNEJTIyMSUyMiUyMGNvbm5lY3QlM0QlMjIxJTIyJTIwYXJyb3dzJTNEJTIyMSUyMiUyMGZvbGQlM0QlMjIxJTIyJTIwcGFnZSUzRCUyMjElMjIlMjBwYWdlU2NhbGUlM0QlMjIxJTIyJTIwcGFnZVdpZHRoJTNEJTIyODI3JTIyJTIwcGFnZUhlaWdodCUzRCUyMjExNjklMjIlMjBtYXRoJTNEJTIyMCUyMiUyMHNoYWRvdyUzRCUyMjAlMjIlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlM0Nyb290JTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhDZWxsJTIwaWQlM0QlMjIwJTIyJTIwJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhDZWxsJTIwaWQlM0QlMjIxJTIyJTIwcGFyZW50JTNEJTIyMCUyMiUyMCUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214Q2VsbCUyMGlkJTNEJTIyWk5FQU82QjNCempCX24tRWFoV3UtMjQlMjIlMjB2YWx1ZSUzRCUyMiUyMiUyMHN0eWxlJTNEJTIycm91bmRlZCUzRDElM0J3aGl0ZVNwYWNlJTNEd3JhcCUzQmh0bWwlM0QxJTNCZmlsbENvbG9yJTNEJTIzZGFlOGZjJTNCc3Ryb2tlQ29sb3IlM0QlMjM2YzhlYmYlM0IlMjIlMjB2ZXJ0ZXglM0QlMjIxJTIyJTIwcGFyZW50JTNEJTIyMSUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214R2VvbWV0cnklMjB4JTNEJTIyNTQwJTIyJTIweSUzRCUyMjE4MCUyMiUyMHdpZHRoJTNEJTIyNTMwJTIyJTIwaGVpZ2h0JTNEJTIyMzQwJTIyJTIwYXMlM0QlMjJnZW9tZXRyeSUyMiUyMCUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQyUyRm14Q2VsbCUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214Q2VsbCUyMGlkJTNEJTIyWk5FQU82QjNCempCX24tRWFoV3UtMjMlMjIlMjB2YWx1ZSUzRCUyMiUyMiUyMHN0eWxlJTNEJTIycm91bmRlZCUzRDElM0J3aGl0ZVNwYWNlJTNEd3JhcCUzQmh0bWwlM0QxJTNCZmlsbENvbG9yJTNEJTIzZGFlOGZjJTNCc3Ryb2tlQ29sb3IlM0QlMjM2YzhlYmYlM0IlMjIlMjB2ZXJ0ZXglM0QlMjIxJTIyJTIwcGFyZW50JTNEJTIyMSUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214R2VvbWV0cnklMjB4JTNEJTIyMTIwJTIyJTIweSUzRCUyMjE5MCUyMiUyMHdpZHRoJTNEJTIyMzkwJTIyJTIwaGVpZ2h0JTNEJTIyMzIwJTIyJTIwYXMlM0QlMjJnZW9tZXRyeSUyMiUyMCUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQyUyRm14Q2VsbCUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214Q2VsbCUyMGlkJTNEJTIyWk5FQU82QjNCempCX24tRWFoV3UtMSUyMiUyMHZhbHVlJTNEJTIyQ1BVJTIyJTIwc3R5bGUlM0QlMjJ3aGl0ZVNwYWNlJTNEd3JhcCUzQmh0bWwlM0QxJTNCZmlsbENvbG9yJTNEJTIzZjhjZWNjJTNCc3Ryb2tlQ29sb3IlM0QlMjNiODU0NTAlM0IlMjIlMjB2ZXJ0ZXglM0QlMjIxJTIyJTIwcGFyZW50JTNEJTIyMSUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214R2VvbWV0cnklMjB4JTNEJTIyMTQwJTIyJTIweSUzRCUyMjIzMCUyMiUyMHdpZHRoJTNEJTIyMTEwJTIyJTIwaGVpZ2h0JTNEJTIyODAlMjIlMjBhcyUzRCUyMmdlb21ldHJ5JTIyJTIwJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGbXhDZWxsJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhDZWxsJTIwaWQlM0QlMjJaTkVBTzZCM0J6akJfbi1FYWhXdS0xNCUyMiUyMHN0eWxlJTNEJTIyZWRnZVN0eWxlJTNEb3J0aG9nb25hbEVkZ2VTdHlsZSUzQnJvdW5kZWQlM0QwJTNCb3J0aG9nb25hbExvb3AlM0QxJTNCamV0dHlTaXplJTNEYXV0byUzQmh0bWwlM0QxJTNCZW50cnlYJTNEMC41JTNCZW50cnlZJTNEMCUzQmVudHJ5RHglM0QwJTNCZW50cnlEeSUzRDAlM0JzdGFydEFycm93JTNEY2xhc3NpYyUzQnN0YXJ0RmlsbCUzRDElM0IlMjIlMjBlZGdlJTNEJTIyMSUyMiUyMHBhcmVudCUzRCUyMjElMjIlMjBzb3VyY2UlM0QlMjJaTkVBTzZCM0J6akJfbi1FYWhXdS0yJTIyJTIwdGFyZ2V0JTNEJTIyWk5FQU82QjNCempCX24tRWFoV3UtMyUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214R2VvbWV0cnklMjByZWxhdGl2ZSUzRCUyMjElMjIlMjBhcyUzRCUyMmdlb21ldHJ5JTIyJTIwJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGbXhDZWxsJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhDZWxsJTIwaWQlM0QlMjJaTkVBTzZCM0J6akJfbi1FYWhXdS0yJTIyJTIwdmFsdWUlM0QlMjJDUFUlMjIlMjBzdHlsZSUzRCUyMndoaXRlU3BhY2UlM0R3cmFwJTNCaHRtbCUzRDElM0JmaWxsQ29sb3IlM0QlMjNmOGNlY2MlM0JzdHJva2VDb2xvciUzRCUyM2I4NTQ1MCUzQiUyMiUyMHZlcnRleCUzRCUyMjElMjIlMjBwYXJlbnQlM0QlMjIxJTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhHZW9tZXRyeSUyMHglM0QlMjI1NTAlMjIlMjB5JTNEJTIyMjMwJTIyJTIwd2lkdGglM0QlMjIxMTAlMjIlMjBoZWlnaHQlM0QlMjI4MCUyMiUyMGFzJTNEJTIyZ2VvbWV0cnklMjIlMjAlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZteENlbGwlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteENlbGwlMjBpZCUzRCUyMlpORUFPNkIzQnpqQl9uLUVhaFd1LTE2JTIyJTIwc3R5bGUlM0QlMjJlZGdlU3R5bGUlM0RvcnRob2dvbmFsRWRnZVN0eWxlJTNCcm91bmRlZCUzRDAlM0JvcnRob2dvbmFsTG9vcCUzRDElM0JqZXR0eVNpemUlM0RhdXRvJTNCaHRtbCUzRDElM0JlbnRyeVglM0QwJTNCZW50cnlZJTNEMC41JTNCZW50cnlEeCUzRDAlM0JlbnRyeUR5JTNEMCUzQnN0YXJ0QXJyb3clM0RjbGFzc2ljJTNCc3RhcnRGaWxsJTNEMSUzQiUyMiUyMGVkZ2UlM0QlMjIxJTIyJTIwcGFyZW50JTNEJTIyMSUyMiUyMHNvdXJjZSUzRCUyMlpORUFPNkIzQnpqQl9uLUVhaFd1LTMlMjIlMjB0YXJnZXQlM0QlMjJaTkVBTzZCM0J6akJfbi1FYWhXdS02JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhHZW9tZXRyeSUyMHJlbGF0aXZlJTNEJTIyMSUyMiUyMGFzJTNEJTIyZ2VvbWV0cnklMjIlMjAlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZteENlbGwlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteENlbGwlMjBpZCUzRCUyMlpORUFPNkIzQnpqQl9uLUVhaFd1LTMlMjIlMjB2YWx1ZSUzRCUyMkRNQSUyNmx0JTNCYnIlMjZndCUzQkNvbnRyb2xsZXIlMjIlMjBzdHlsZSUzRCUyMndoaXRlU3BhY2UlM0R3cmFwJTNCaHRtbCUzRDElM0JmaWxsQ29sb3IlM0QlMjNmZmYyY2MlM0JzdHJva2VDb2xvciUzRCUyM2Q2YjY1NiUzQiUyMiUyMHZlcnRleCUzRCUyMjElMjIlMjBwYXJlbnQlM0QlMjIxJTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhHZW9tZXRyeSUyMHglM0QlMjI3MjclMjIlMjB5JTNEJTIyMzAwJTIyJTIwd2lkdGglM0QlMjIxMDAlMjIlMjBoZWlnaHQlM0QlMjI4MCUyMiUyMGFzJTNEJTIyZ2VvbWV0cnklMjIlMjAlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZteENlbGwlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteENlbGwlMjBpZCUzRCUyMlpORUFPNkIzQnpqQl9uLUVhaFd1LTQlMjIlMjB2YWx1ZSUzRCUyMlJBTSUyMiUyMHN0eWxlJTNEJTIyd2hpdGVTcGFjZSUzRHdyYXAlM0JodG1sJTNEMSUzQmZpbGxDb2xvciUzRCUyM2ZmZTZjYyUzQnN0cm9rZUNvbG9yJTNEJTIzZDc5YjAwJTNCJTIyJTIwdmVydGV4JTNEJTIyMSUyMiUyMHBhcmVudCUzRCUyMjElMjIlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteEdlb21ldHJ5JTIweCUzRCUyMjEzNSUyMiUyMHklM0QlMjI0MDAlMjIlMjB3aWR0aCUzRCUyMjEyMCUyMiUyMGhlaWdodCUzRCUyMjYwJTIyJTIwYXMlM0QlMjJnZW9tZXRyeSUyMiUyMCUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQyUyRm14Q2VsbCUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214Q2VsbCUyMGlkJTNEJTIyWk5FQU82QjNCempCX24tRWFoV3UtNSUyMiUyMHZhbHVlJTNEJTIySSUyRk8lMjBEZXZpY2UlMjIlMjBzdHlsZSUzRCUyMndoaXRlU3BhY2UlM0R3cmFwJTNCaHRtbCUzRDElM0IlMjIlMjB2ZXJ0ZXglM0QlMjIxJTIyJTIwcGFyZW50JTNEJTIyMSUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214R2VvbWV0cnklMjB4JTNEJTIyMzU0JTIyJTIweSUzRCUyMjI0MCUyMiUyMHdpZHRoJTNEJTIyMTIwJTIyJTIwaGVpZ2h0JTNEJTIyNjAlMjIlMjBhcyUzRCUyMmdlb21ldHJ5JTIyJTIwJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGbXhDZWxsJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhDZWxsJTIwaWQlM0QlMjJaTkVBTzZCM0J6akJfbi1FYWhXdS02JTIyJTIwdmFsdWUlM0QlMjJJJTJGTyUyMERldmljZSUyMiUyMHN0eWxlJTNEJTIyd2hpdGVTcGFjZSUzRHdyYXAlM0JodG1sJTNEMSUzQiUyMiUyMHZlcnRleCUzRCUyMjElMjIlMjBwYXJlbnQlM0QlMjIxJTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhHZW9tZXRyeSUyMHglM0QlMjI5MzAlMjIlMjB5JTNEJTIyMzEwJTIyJTIwd2lkdGglM0QlMjIxMjAlMjIlMjBoZWlnaHQlM0QlMjI2MCUyMiUyMGFzJTNEJTIyZ2VvbWV0cnklMjIlMjAlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZteENlbGwlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteENlbGwlMjBpZCUzRCUyMlpORUFPNkIzQnpqQl9uLUVhaFd1LTE4JTIyJTIwc3R5bGUlM0QlMjJlZGdlU3R5bGUlM0RvcnRob2dvbmFsRWRnZVN0eWxlJTNCcm91bmRlZCUzRDAlM0JvcnRob2dvbmFsTG9vcCUzRDElM0JqZXR0eVNpemUlM0RhdXRvJTNCaHRtbCUzRDElM0JlbnRyeVglM0QwLjUlM0JlbnRyeVklM0QxJTNCZW50cnlEeCUzRDAlM0JlbnRyeUR5JTNEMCUzQnN0YXJ0QXJyb3clM0RjbGFzc2ljJTNCc3RhcnRGaWxsJTNEMSUzQiUyMiUyMGVkZ2UlM0QlMjIxJTIyJTIwcGFyZW50JTNEJTIyMSUyMiUyMHNvdXJjZSUzRCUyMlpORUFPNkIzQnpqQl9uLUVhaFd1LTglMjIlMjB0YXJnZXQlM0QlMjJaTkVBTzZCM0J6akJfbi1FYWhXdS0zJTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhHZW9tZXRyeSUyMHJlbGF0aXZlJTNEJTIyMSUyMiUyMGFzJTNEJTIyZ2VvbWV0cnklMjIlMjAlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZteENlbGwlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteENlbGwlMjBpZCUzRCUyMlpORUFPNkIzQnpqQl9uLUVhaFd1LTglMjIlMjB2YWx1ZSUzRCUyMlJBTSUyMiUyMHN0eWxlJTNEJTIyd2hpdGVTcGFjZSUzRHdyYXAlM0JodG1sJTNEMSUzQmZpbGxDb2xvciUzRCUyM2ZmZTZjYyUzQnN0cm9rZUNvbG9yJTNEJTIzZDc5YjAwJTNCJTIyJTIwdmVydGV4JTNEJTIyMSUyMiUyMHBhcmVudCUzRCUyMjElMjIlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteEdlb21ldHJ5JTIweCUzRCUyMjU0NSUyMiUyMHklM0QlMjI0MDAlMjIlMjB3aWR0aCUzRCUyMjEyMCUyMiUyMGhlaWdodCUzRCUyMjYwJTIyJTIwYXMlM0QlMjJnZW9tZXRyeSUyMiUyMCUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQyUyRm14Q2VsbCUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214Q2VsbCUyMGlkJTNEJTIyWk5FQU82QjNCempCX24tRWFoV3UtOSUyMiUyMHZhbHVlJTNEJTIyJTIyJTIwc3R5bGUlM0QlMjJlbmRBcnJvdyUzRGNsYXNzaWMlM0JzdGFydEFycm93JTNEY2xhc3NpYyUzQmh0bWwlM0QxJTNCcm91bmRlZCUzRDAlM0JlbnRyeVglM0QwLjUlM0JlbnRyeVklM0QxJTNCZW50cnlEeCUzRDAlM0JlbnRyeUR5JTNEMCUzQiUyMiUyMGVkZ2UlM0QlMjIxJTIyJTIwcGFyZW50JTNEJTIyMSUyMiUyMHRhcmdldCUzRCUyMlpORUFPNkIzQnpqQl9uLUVhaFd1LTElMjIlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteEdlb21ldHJ5JTIwd2lkdGglM0QlMjI1MCUyMiUyMGhlaWdodCUzRCUyMjUwJTIyJTIwcmVsYXRpdmUlM0QlMjIxJTIyJTIwYXMlM0QlMjJnZW9tZXRyeSUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214UG9pbnQlMjB4JTNEJTIyMTk0LjUlMjIlMjB5JTNEJTIyNDAwJTIyJTIwYXMlM0QlMjJzb3VyY2VQb2ludCUyMiUyMCUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214UG9pbnQlMjB4JTNEJTIyMTk0LjUlMjIlMjB5JTNEJTIyMzIwJTIyJTIwYXMlM0QlMjJ0YXJnZXRQb2ludCUyMiUyMCUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQyUyRm14R2VvbWV0cnklM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZteENlbGwlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteENlbGwlMjBpZCUzRCUyMlpORUFPNkIzQnpqQl9uLUVhaFd1LTEwJTIyJTIwdmFsdWUlM0QlMjIlMjIlMjBzdHlsZSUzRCUyMmVuZEFycm93JTNEY2xhc3NpYyUzQnN0YXJ0QXJyb3clM0RjbGFzc2ljJTNCaHRtbCUzRDElM0Jyb3VuZGVkJTNEMCUzQiUyMiUyMGVkZ2UlM0QlMjIxJTIyJTIwcGFyZW50JTNEJTIyMSUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214R2VvbWV0cnklMjB3aWR0aCUzRCUyMjUwJTIyJTIwaGVpZ2h0JTNEJTIyNTAlMjIlMjByZWxhdGl2ZSUzRCUyMjElMjIlMjBhcyUzRCUyMmdlb21ldHJ5JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhQb2ludCUyMHglM0QlMjI2MDQuNSUyMiUyMHklM0QlMjI0MDAlMjIlMjBhcyUzRCUyMnNvdXJjZVBvaW50JTIyJTIwJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhQb2ludCUyMHglM0QlMjI2MDQuNSUyMiUyMHklM0QlMjIzMjAlMjIlMjBhcyUzRCUyMnRhcmdldFBvaW50JTIyJTIwJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGbXhHZW9tZXRyeSUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQyUyRm14Q2VsbCUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214Q2VsbCUyMGlkJTNEJTIyWk5FQU82QjNCempCX24tRWFoV3UtMTElMjIlMjB2YWx1ZSUzRCUyMiUyMiUyMHN0eWxlJTNEJTIyZW5kQXJyb3clM0RjbGFzc2ljJTNCc3RhcnRBcnJvdyUzRGNsYXNzaWMlM0JodG1sJTNEMSUzQnJvdW5kZWQlM0QwJTNCZW50cnlYJTNEMCUzQmVudHJ5WSUzRDAuNSUzQmVudHJ5RHglM0QwJTNCZW50cnlEeSUzRDAlM0IlMjIlMjBlZGdlJTNEJTIyMSUyMiUyMHBhcmVudCUzRCUyMjElMjIlMjBzb3VyY2UlM0QlMjJaTkVBTzZCM0J6akJfbi1FYWhXdS0xJTIyJTIwdGFyZ2V0JTNEJTIyWk5FQU82QjNCempCX24tRWFoV3UtNSUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214R2VvbWV0cnklMjB3aWR0aCUzRCUyMjUwJTIyJTIwaGVpZ2h0JTNEJTIyNTAlMjIlMjByZWxhdGl2ZSUzRCUyMjElMjIlMjBhcyUzRCUyMmdlb21ldHJ5JTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhQb2ludCUyMHglM0QlMjIyMDQuNSUyMiUyMHklM0QlMjI0MTAlMjIlMjBhcyUzRCUyMnNvdXJjZVBvaW50JTIyJTIwJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhQb2ludCUyMHglM0QlMjIyMDUlMjIlMjB5JTNEJTIyMzIwJTIyJTIwYXMlM0QlMjJ0YXJnZXRQb2ludCUyMiUyMCUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQyUyRm14R2VvbWV0cnklM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZteENlbGwlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteENlbGwlMjBpZCUzRCUyMlpORUFPNkIzQnpqQl9uLUVhaFd1LTEyJTIyJTIwdmFsdWUlM0QlMjJMb2FkJTJGU3RvcmUlMjZsdCUzQmJyJTI2Z3QlM0JJJTJGTyUyMEJ1ZmZlciUyMFJlZ2lzdGVyJTIyJTIwc3R5bGUlM0QlMjJ0ZXh0JTNCc3Ryb2tlQ29sb3IlM0Rub25lJTNCYWxpZ24lM0RjZW50ZXIlM0JmaWxsQ29sb3IlM0Rub25lJTNCaHRtbCUzRDElM0J2ZXJ0aWNhbEFsaWduJTNEbWlkZGxlJTNCd2hpdGVTcGFjZSUzRHdyYXAlM0Jyb3VuZGVkJTNEMCUzQiUyMiUyMHZlcnRleCUzRCUyMjElMjIlMjBwYXJlbnQlM0QlMjIxJTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhHZW9tZXRyeSUyMHglM0QlMjIxODAlMjIlMjB5JTNEJTIyMzQwJTIyJTIwd2lkdGglM0QlMjIxNDAlMjIlMjBoZWlnaHQlM0QlMjIzMCUyMiUyMGFzJTNEJTIyZ2VvbWV0cnklMjIlMjAlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZteENlbGwlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteENlbGwlMjBpZCUzRCUyMlpORUFPNkIzQnpqQl9uLUVhaFd1LTE1JTIyJTIwdmFsdWUlM0QlMjJJJTJGTyUyMFJlcXVlc3QlMjAlMkYlMjBSZXNwb25zZSUyMiUyMHN0eWxlJTNEJTIydGV4dCUzQnN0cm9rZUNvbG9yJTNEbm9uZSUzQmFsaWduJTNEY2VudGVyJTNCZmlsbENvbG9yJTNEbm9uZSUzQmh0bWwlM0QxJTNCdmVydGljYWxBbGlnbiUzRG1pZGRsZSUzQndoaXRlU3BhY2UlM0R3cmFwJTNCcm91bmRlZCUzRDAlM0IlMjIlMjB2ZXJ0ZXglM0QlMjIxJTIyJTIwcGFyZW50JTNEJTIyMSUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214R2VvbWV0cnklMjB4JTNEJTIyNjkwJTIyJTIweSUzRCUyMjIzMCUyMiUyMHdpZHRoJTNEJTIyMTQzJTIyJTIwaGVpZ2h0JTNEJTIyMzAlMjIlMjBhcyUzRCUyMmdlb21ldHJ5JTIyJTIwJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGbXhDZWxsJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhDZWxsJTIwaWQlM0QlMjJaTkVBTzZCM0J6akJfbi1FYWhXdS0xNyUyMiUyMHZhbHVlJTNEJTIyVHJhbnNmZXIlMjBEYXRhJTIyJTIwc3R5bGUlM0QlMjJ0ZXh0JTNCc3Ryb2tlQ29sb3IlM0Rub25lJTNCYWxpZ24lM0RjZW50ZXIlM0JmaWxsQ29sb3IlM0Rub25lJTNCaHRtbCUzRDElM0J2ZXJ0aWNhbEFsaWduJTNEbWlkZGxlJTNCd2hpdGVTcGFjZSUzRHdyYXAlM0Jyb3VuZGVkJTNEMCUzQiUyMiUyMHZlcnRleCUzRCUyMjElMjIlMjBwYXJlbnQlM0QlMjIxJTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhHZW9tZXRyeSUyMHglM0QlMjI4NDAlMjIlMjB5JTNEJTIyMzYwJTIyJTIwd2lkdGglM0QlMjI4MCUyMiUyMGhlaWdodCUzRCUyMjMwJTIyJTIwYXMlM0QlMjJnZW9tZXRyeSUyMiUyMCUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQyUyRm14Q2VsbCUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214Q2VsbCUyMGlkJTNEJTIyWk5FQU82QjNCempCX24tRWFoV3UtMTklMjIlMjB2YWx1ZSUzRCUyMlRyYW5zZmVyJTIwRGF0YSUyMiUyMHN0eWxlJTNEJTIydGV4dCUzQnN0cm9rZUNvbG9yJTNEbm9uZSUzQmFsaWduJTNEY2VudGVyJTNCZmlsbENvbG9yJTNEbm9uZSUzQmh0bWwlM0QxJTNCdmVydGljYWxBbGlnbiUzRG1pZGRsZSUzQndoaXRlU3BhY2UlM0R3cmFwJTNCcm91bmRlZCUzRDAlM0IlMjIlMjB2ZXJ0ZXglM0QlMjIxJTIyJTIwcGFyZW50JTNEJTIyMSUyMiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214R2VvbWV0cnklMjB4JTNEJTIyNjY1JTIyJTIweSUzRCUyMjQ0MCUyMiUyMHdpZHRoJTNEJTIyMTIwJTIyJTIwaGVpZ2h0JTNEJTIyMzAlMjIlMjBhcyUzRCUyMmdlb21ldHJ5JTIyJTIwJTJGJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDJTJGbXhDZWxsJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhDZWxsJTIwaWQlM0QlMjJaTkVBTzZCM0J6akJfbi1FYWhXdS0yMCUyMiUyMHZhbHVlJTNEJTIyVHJhbnNmZXIlMjBEYXRhJTIyJTIwc3R5bGUlM0QlMjJ0ZXh0JTNCc3Ryb2tlQ29sb3IlM0Rub25lJTNCYWxpZ24lM0RjZW50ZXIlM0JmaWxsQ29sb3IlM0Rub25lJTNCaHRtbCUzRDElM0J2ZXJ0aWNhbEFsaWduJTNEbWlkZGxlJTNCd2hpdGVTcGFjZSUzRHdyYXAlM0Jyb3VuZGVkJTNEMCUzQiUyMiUyMHZlcnRleCUzRCUyMjElMjIlMjBwYXJlbnQlM0QlMjIxJTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhHZW9tZXRyeSUyMHglM0QlMjIyNjAlMjIlMjB5JTNEJTIyMjQwJTIyJTIwd2lkdGglM0QlMjI5MCUyMiUyMGhlaWdodCUzRCUyMjMwJTIyJTIwYXMlM0QlMjJnZW9tZXRyeSUyMiUyMCUyRiUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQyUyRm14Q2VsbCUzRSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUzQ214Q2VsbCUyMGlkJTNEJTIyWk5FQU82QjNCempCX24tRWFoV3UtMjUlMjIlMjB2YWx1ZSUzRCUyMlByb2Nlc3MlMjBDb250cm9sbGVkJTIwSSUyRk8lMjIlMjBzdHlsZSUzRCUyMnRleHQlM0JzdHJva2VDb2xvciUzRG5vbmUlM0JhbGlnbiUzRGNlbnRlciUzQmZpbGxDb2xvciUzRG5vbmUlM0JodG1sJTNEMSUzQnZlcnRpY2FsQWxpZ24lM0RtaWRkbGUlM0J3aGl0ZVNwYWNlJTNEd3JhcCUzQnJvdW5kZWQlM0QwJTNCZm9udFN0eWxlJTNEMSUyMiUyMHZlcnRleCUzRCUyMjElMjIlMjBwYXJlbnQlM0QlMjIxJTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhHZW9tZXRyeSUyMHglM0QlMjIxMzAlMjIlMjB5JTNEJTIyMTkwJTIyJTIwd2lkdGglM0QlMjIxNzAlMjIlMjBoZWlnaHQlM0QlMjIzMCUyMiUyMGFzJTNEJTIyZ2VvbWV0cnklMjIlMjAlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZteENlbGwlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0NteENlbGwlMjBpZCUzRCUyMlpORUFPNkIzQnpqQl9uLUVhaFd1LTI2JTIyJTIwdmFsdWUlM0QlMjJEaXJlY3QlMjBNZW1vcnklMjBBY2Nlc3MlMjIlMjBzdHlsZSUzRCUyMnRleHQlM0JzdHJva2VDb2xvciUzRG5vbmUlM0JhbGlnbiUzRGNlbnRlciUzQmZpbGxDb2xvciUzRG5vbmUlM0JodG1sJTNEMSUzQnZlcnRpY2FsQWxpZ24lM0RtaWRkbGUlM0J3aGl0ZVNwYWNlJTNEd3JhcCUzQnJvdW5kZWQlM0QwJTNCZm9udFN0eWxlJTNEMSUyMiUyMHZlcnRleCUzRCUyMjElMjIlMjBwYXJlbnQlM0QlMjIxJTIyJTNFJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTNDbXhHZW9tZXRyeSUyMHglM0QlMjI1NTAlMjIlMjB5JTNEJTIyMTkwJTIyJTIwd2lkdGglM0QlMjIxNzAlMjIlMjBoZWlnaHQlM0QlMjIzMCUyMiUyMGFzJTNEJTIyZ2VvbWV0cnklMjIlMjAlMkYlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZteENlbGwlM0UlMEElMjAlMjAlMjAlMjAlMjAlMjAlM0MlMkZyb290JTNFJTBBJTIwJTIwJTIwJTIwJTNDJTJGbXhHcmFwaE1vZGVsJTNFJTBBJTIwJTIwJTNDJTJGZGlhZ3JhbSUzRSUwQSUzQyUyRm14ZmlsZSUzRSUwQTz1RIEAAAGDSURBVHjaRZHbbtpQEEX9/x/Ul0pV1UZtUmgwN5uLr/huHwPGMQZMWBlD1D4szUgzZ5/ZM5obVehGyOs8YBk1eOqGnV2wBK+40J7fMWzFs77hZZ6gOwdmm4aZ32DGFxaf9Lkjb7RwsqL+8Y1kMOL3PGe4yMjUnkJt8fKWYtuyHww4PH3HnXu8rHbSp3i131il1zuL5IpVwMBq0DarCDUaE5ve48eoJSwakvKIlZ5Q+xOFsUbpMxynxC1astggTV2WyWM6J3kjkDe6vUczUvjrtnwd+Pwxc9b5DSO6CB2mRFWLZekZbcSWxDAv2XlfKIOfTNyKsYik+ZZqv8P0SrEcxsS2QeDaInD6Z2P9aWV7kIlCl9gx8cJCah3roMBOKhGsGctOl0mHU9wYWjVa7pvU9hNVMGEpIsvkem/oMeJ3dlVN7Q9p3F9Evs2zqcRaxToDS9z09APcBWWvWlB22PlVLtv9J39EX3Uc5cr9xafBmVlwYuw1TP3jPZ9uHvT5TOpOduYDvxsDVEo6ckYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"DMA.drawio.png\"\n        title=\"\"\n        src=\"/static/2d48b9cbb663aba20da9a170f9a317a6/5a190/DMA.drawio.png\"\n        srcset=\"/static/2d48b9cbb663aba20da9a170f9a317a6/772e8/DMA.drawio.png 200w,\n/static/2d48b9cbb663aba20da9a170f9a317a6/e17e5/DMA.drawio.png 400w,\n/static/2d48b9cbb663aba20da9a170f9a317a6/5a190/DMA.drawio.png 800w,\n/static/2d48b9cbb663aba20da9a170f9a317a6/9b379/DMA.drawio.png 951w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><strong>수행 과정</strong></p>\n<ul>\n<li>DMA Request: 프로세서는 DMA 제어기에게 받거나 보내야 할 데이터를 알려준다.</li>\n<li>DMA 제어기는 메모리/디스크 내에서 CPU가 지정해준 영역을 디스크로부터 읽거나 쓴다.</li>\n<li>DMA Response: (1) 디스크제어기 → DMA제어기 인터럽트, (2) DMA제어기 → 프로세서 인터럽트를 통해 I/O작업의 종료를 프로세서에게 전달한다.</li>\n</ul>\n<p>결과적으로 프로세서는 DMA 제어기에게 I/O요청에 대한 요청과 응답만 할 뿐, I/O작업에 직접적으로 개입하지 않아 다른 작업을 수행할 수 있습니다.</p>\n<p><strong>DMA Mode</strong></p>\n<p><strong>Cycle Stealing Mode</strong>: Word(32~64 bit)단위 데이터 전송 시 사용하며, 데이터 버스 우선순위를 CPU보다 DMA에게 주어 빠르게 데이터 전송할 수 있도록 합니다.</p>\n<p><strong>Burst Mode</strong>: Block(2~32Kb)단위의 데이터 전송 시 사용되며, 우선순위를 갖지는 않지만 한번 데이터 버스를 사용하면, 블록 전송이 끝날때 까지 데이터 버스를 점유합니다.</p>\n<h3 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h3>\n<p><a href=\"%5Bhttps://pages.cs.wisc.edu/~remzi/OSTEP/%5D(https://pages.cs.wisc.edu/~remzi/OSTEP/)\">OSTEP: Operating Systems: Three Easy Pieces</a></p>\n<p>[<strong>HPC Lab. KOREATECH, OS Lecture]<a href=\"https://www.youtube.com/watch?v=r1JVA7yOPAM&#x26;\">(</a></strong><a href=\"https://www.youtube.com/playlist?list=PLBrGAFAIyf5rby7QylRc6JxU5lzQ9c4tN\">https://www.youtube.com/watch?v=es3WGii_7mc&#x26;list=PLBrGAFAIyf5rby7QylRc6JxU5lzQ9c4tN</a><strong>)</strong></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Direct_memory_access\">https://en.wikipedia.org/wiki/Direct_memory_access</a></p>\n<p><a href=\"https://blackinkgj.github.io/IO/\">https://blackinkgj.github.io/IO/</a></p>","fields":{"slug":"운영체제-i-o장치-접근방법"},"frontmatter":{"title":"[운영체제] I/O장치 접근방법","date":"10.16.2024","category":"tech","tags":["운영체제","운영체제 스터디"],"banner":null,"description":"I/O 장치, 접근방법, 프로세서 제어 I/O, 폴링, 인터럽트, DMA, 효율 개선, 버퍼, 사이클 스틸링, 블록 전송"},"timeToRead":2}},"pageContext":{"slug":"운영체제-i-o장치-접근방법","prev":{"excerpt":"MySQL 아키텍처 MySQL 서버 MySQL은 크게 MySQL 엔진과 MySQL 스토리지 엔진으로 이뤄져있습니다. MySQL 엔진  MySQL…","html":"<h2 id=\"mysql-아키텍처\" style=\"position:relative;\"><a href=\"#mysql-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98\" aria-label=\"mysql 아키텍처 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MySQL 아키텍처</h2>\n<h3 id=\"mysql-서버\" style=\"position:relative;\"><a href=\"#mysql-%EC%84%9C%EB%B2%84\" aria-label=\"mysql 서버 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MySQL 서버</h3>\n<p>MySQL은 크게 <strong>MySQL 엔진</strong>과 <strong>MySQL 스토리지 엔진</strong>으로 이뤄져있습니다.</p>\n<p><strong>MySQL 엔진</strong></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 791px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/fa1829ff90142b26f9903a80741fb36b/cc8d6/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAJnnRFWHRteGZpbGUAJTNDbXhmaWxlJTIwaG9zdCUzRCUyMmFwcC5kaWFncmFtcy5uZXQlMjIlMjBtb2RpZmllZCUzRCUyMjIwMjMtMDMtMDRUMDYlM0E1MCUzQTIwLjYwMVolMjIlMjBhZ2VudCUzRCUyMjUuMCUyMChNYWNpbnRvc2glM0IlMjBJbnRlbCUyME1hYyUyME9TJTIwWCUyMDEwXzE1XzcpJTIwQXBwbGVXZWJLaXQlMkY1MzcuMzYlMjAoS0hUTUwlMkMlMjBsaWtlJTIwR2Vja28pJTIwQ2hyb21lJTJGMTA5LjAuMC4wJTIwU2FmYXJpJTJGNTM3LjM2JTIyJTIwZXRhZyUzRCUyMjBWLXNOWFNZbVhZaFVna2NQLWtJJTIyJTIwdmVyc2lvbiUzRCUyMjIwLjguMjMlMjIlMjB0eXBlJTNEJTIyZ29vZ2xlJTIyJTNFJTNDZGlhZ3JhbSUyMG5hbWUlM0QlMjIlRUQlOEUlOTglRUMlOUQlQjQlRUMlQTclODAtMSUyMiUyMGlkJTNEJTIyX1I5ckE1Q0R4Q3IyclA1SDN6Q3IlMjIlM0U1VnBiZCUyQkkyRVA0MU9xZDlTSSUyRnZsMGNiU0clMkI3cDltVDluVDdxR0FGM0RVV05TSkFmMzFITjl0Q2hvUVRZSk50WGlLTng3TDBmVE9qR1Fua2p4YmJIeHU4bkglMkJrQmFtUTV4UmI1SSUyQlI1N2x4NHNJJTJGTHRsSlNSZ25VakJyeWtJcGRZTDc4bCUyQmloSTZTcnN1Q3JBeEZSbW5GeXFVcG5OSzZKbE5teUhEVDBJMnA5a2dyODZ0TFBDT1c0SDZLSzF2NloxbXd1WlFtWHR6SmZ5TGxiSzYlMkY3RWFwZkxMQVdsbXRaRFhIQmQzMFJQNEUlMkJhT0dVaVpiaSUyQjJJVkJ3OGpZdDg3JTJGYkEwM1ppRGFuWlMxNjRXJTJCZnNqM242NnhPcHlBMmIlMkZ2YjdsNXRQTjJxVUoxeXQxWUklMkY3dTQlMkZmUUFSbXVRb3VVVnBpaVlqbEU1UTZncGhodklRWlNNdXpGeVU2N1d4blFhTWtTMU1KNSUyQnpSUVVDRjVvcjF0QXZaRVFyMm9Da3BqVm81bzlsVmUySmNGWE9hdWhPWVVFRTVQa1RhVmdKVkdUcXdhSXNDdjZaZkRNdkdibGY0aW4lMkY1Z1lNRDJRTlhkY0Y0V3QxJTJCUEMwWnZkcVVucU5NQnJaSGdUUGJTa0JXeVowUVZpekE1V3RhWTdLaXQxQTlUZWRUYlN5ZWM4ZWZDWER5Z3huN2NnZFU5QlFaSjFBWEdnQlR3b3dYTldsRFp2VEdhMXhOZW1rZXhCMU9oOG9YU3F1JTJGaWFNN1pRWDRqV2pKcE1BVnJQN3pOJTJGJTJGSWRUZHY5UndvalBlR3IyZDZxMFlibGpHdlpIVFclMkJIVnFweHE4VzFaNmVIbGt2ZzZqck1FeTZiclprcU93T09wVUlHYkdXRkg5SUpoMWh0U1lWWSUyQm1mTTRPNGVlNVh6SWl5cnVQUSUyRlFtUEhHWFVObkRWNHN5bm9HbXRuZHoxb0RQdGdxdFc4MVd2SUxmc0tnZjdjRGltdmx6S21QY3VIRGxyWnc5UkZLaEZvZTlScUJlQmY4UDBKNW9odUJhTVFvRlk5QUp4MHB0Y1JUb1NITlVKYnFlT0dvQVJNUURwaHRWVUVzUCUyQlRWUGVNN2d4ZDdjV2k2Y1dTN2NSdXYlMkIyNmNYTXFOQTlzRUFMNDhSMWtnSUFzNFpCelpFS1dKQUhTTTBsQ1FJUmlWYXVrdHgzMGYyYzdkM2VmUk5RT21HWiUyQlI1ejglMkJrbWc2dFlJNVBDbmk5TUZ4enNSUGFJWlozeDNnSjc1bW1JMHNmdlR1Q0VZJTJCRmp5TU9VdTVZQ2FaY0piVUklMkJFbTNPYUI0d2d2T043MXcyclpJdFZqNmwxd0U4UW1OJTJCSEFGamprTzlHbHVJa1Bjak1XNFd6VUMwJTJGdkVIQSUyRkNkOFk0TWt4WjBoNFlzaVJ6NFV6UUFTTFVXSTZReVoyZ3ZmSVJlaTlOUzdTNFkwajA3dHlMc3glMkJwUGIlMkIzT09Pd05rQkx0Nm5PMFRSVzZOQWIwNTdITWlRejdHT3VNVnpUNGgweFJRTEIzQjBBaFZvWVhCdVNwSXBHYWJrSVFtRDhHemJ0V3RRRXNRRDI3V09ZdGVoeEs1blJSbzFGakdwRFVYOUxWdHZGS24wRElkUFFEb04xTGZnUXp5RGpmVkdieXZMWEhxMXhMWEJYJTJGVFBtdGYxZ3FlYmpWcDZCaW8xYlJhNGtrbTcwdW1uNFRKSmwxOW9zMjhaTjJVWm5vVXFCVXdUbFZPblFaY1hwam92VE9VMFlSRzl0TjF6dmhPUEEyVjVuYVc2WUtEZjkwb0x1UjVkWGJ6R05NJTJCZkZJWmhhRnRaZWxYSEh5cmNUZ1RwcTZSd3p2UHB0VHNBcE90Y0RFbiUyRjdFaGVKJTJGSTU1bVkwRlBtR2tMeWNTUTRVa3E4RGNwekU4S2Y4MlRCViUyRmpjRWNCWTZUbkFoZ01NdyUyQmNvQWh4YkEzVW5wczd1NU9oUWRQQW0xamowSGprWjdOTDNpVVBRTXZMUVoxcEVRa2d6d2NyRUMzYlVyOVBNbFlkOE9iYjVKMjFDOHV1cTVpbXNYNyUyQnJjVUIwdkpqd3A0UldOMXhXUHZLS3h6eTVma3ZqOFgzZ2RDcFBSVlhtMXp3Z3M5RWxkSExnTHNNVTlwRTN3eUxaa24zdHRjUTBoYnlXZzE5MUQ4TTdPQVB3czl3c3k3Tmk4OUhBUEIzRFhzaGZmTDZndjNORVNadGpTSHU4RjRmM2phVGw5OVZMSHFEV09GYzMzN1VMZW4xZ0RBVTk0MTFOYmNvWFZ5JTJCZWJHamVWMEpBRGRtYlhJdm9LUzdSUFNQb2J0andYYkk5R25qdWglMkZXWWl4czNlS1Vwc0YxTlgzYjg5T3pwZjRTTFRpRGFLb3Y1dDVKbWpoYWZLbkdldkkxMW5tTHpUNHNXcDdxbjlzYzBPb3IxZkVweW1meGwlMkY5Z1pLeFdPWFlZN0tKMlIlMkJCMTZlalMxTE83VklmJTJGUU9GT25SUXhSR2w3bG5DWHc3VmZPSDloYnZkQmVGYnZmN0UwbFU5eXNlZiUyRklmJTNDJTJGZGlhZ3JhbSUzRSUzQyUyRm14ZmlsZSUzRfROntUAAAHGSURBVHjafVPZbtswENT//08fmjwUDSC1dg3Ed5y6ipO0UipRoi5L1Mkpl6oc2UhCYEFiuTs7exld18FxHPi+j7IsQUdKqaVpGuR5jiiKEMcxhBBo2/bM5vIYl4rBiBwpAAUzTROz2UyDkm6weRNwiDSOONzEkFgRUJpm+k0ZnWwufEmMS+rDs9f3zkIUqOvqLFX6k28BjlNlQYDAf0ErIsjcA6J7JXs8Lr7A3VlAaqNjW8gqwXvHoLSoXkVRqBRbyFbVqGCo/C3Y8hP43TUkW6J8shBuPqN1p2iCe7C7r+B7E138gPpljsieQByuYXDOdReHDndtpRnUoa3ImUgPE8jYhnAWiH9Z6IItGm6D/7xBYn9DF/WA2eGHArx6TZkAh4Jr4IoB1ZOS32jyRzB3hTzeQ5bP6ITSl0pkgb7kg9//pmiVAiOmxFjwUEV1INZzVLsNvKmFvxML5W6NcrNUcWxV8/bUNDlqpjEeE7oJuE5Vys4fiMUc5XoFPpuCTb6jWC163YN9GokPx+Z4POqNqVmIQm1IrBinSYIsTZGrvyzLlPTvMYnx2J0BUqe5Aklu12qQUziuqwN4nocwDHVJSAj4vW35ByiKndLqBza1AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"MySQL 아키텍처.drawio.png\"\n        title=\"\"\n        src=\"/static/fa1829ff90142b26f9903a80741fb36b/cc8d6/1.png\"\n        srcset=\"/static/fa1829ff90142b26f9903a80741fb36b/772e8/1.png 200w,\n/static/fa1829ff90142b26f9903a80741fb36b/e17e5/1.png 400w,\n/static/fa1829ff90142b26f9903a80741fb36b/cc8d6/1.png 791w\"\n        sizes=\"(max-width: 791px) 100vw, 791px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>MySQL엔진은  커넥션 핸들러와 파서, 옵티마이저, 캐시/버퍼로 이루어져있습니다.</p>\n<p>커넥션 핸들러는 클라이언트와의 접속, 쿼리 요청을 담당하며, 파서는 쿼리의 문법적 오류를 담당, 옵티마이저 및 캐시는 쿼리의 최적화된 실행을 담당합니다.</p>\n<p><strong>쿼리파서</strong></p>\n<p>쿼리 문장을 최소 의미단위인 토큰단위로 나누고 이를 기반으로 파서 트리를 생성. 기본 문법오류 탐지.</p>\n<p><strong>전처리기</strong></p>\n<p>파서 트리를 기반으로 쿼리의 구조적 오류 탐지, 칼럼/테이블/내장함수같은 객체의 존재유무 판별, 권한 탐지 등 존재여부와 접근 권한을 탐색</p>\n<p><strong>옵티마이저</strong></p>\n<p>쿼리 문장을 가장 저렴한 비용으로 빠르게 실행하는 방법을 결정.</p>\n<p>(옵티마이저는 만능이 아니고, 이것이 더 나은 선택을 하도록 유도하는것도 중요한 요소중 하나라고 합니다.)</p>\n<p><strong>쿼리  실행기 - Executer</strong></p>\n<p>핸들러 API를 통해 가져온 데이터를 임시 테이블, 캐시, 버퍼를 활용해 클라이언트 요청을 처리해 결과를 반환</p>\n<p><strong>핸들러 API</strong></p>\n<p>핸들러 요청에서는 캐시/버퍼 또는 SQL에서 실제 디스크에 파일 저장까지 실질적인 데이터의 읽기/쓰기 작업을 담당합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 749px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d60a9e36c2f297e16ac67dc03f76d443/5bb8b/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 136%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC9ElEQVR42q1ViW7aQBT0/39V1VYtd7hPG8IRbHyBOYwBw+TNC5BDKiRqVhrZXuzZ92ZmF2PiR5i4IaJ1jCSeYz53Efo2XN/D2vdlbotRq4F4vYIXxQiiLWZeANfzcUg28FwHYeAhCAKFARnLJMVmD4SbBD96Dtp2iJ+Wg1/9GSzHR24c4G/fwWDm47dlY+x6WI5LcM0/mI9K8KcmwnmE1WoJ43Q64XjG6XTE/pBin6Y4nJEejzgcDq/36QtSeT4eU71ecJTflfBlXK7/N5TwO2Hgm4dhWRYcxxF355jNZhiNRnJ1ReDVFcvl8ibevmt0u130ej2Q2DQtWKaJft/CYDC4YjgcKrjYR3D+8fHxCqPRaCCTyaBQyKNeb8G1TQytIlrtLqrViszVMZlM8PT0hDAMsVgssNlssN1uFXzudDqoVCpCOISxXq/hS4DZruu6cs+Q+ljLR1EU6TzluLTO9z/ibetqCidZBbW0bVsX4GC2WBmJNVin+9Ey9vu9VtZqtVSTi2YMMVtrNps6x/c04HegFdpSGXVsyMeFYhE0ijuDbdCwuei0E8KYuiXJTSghW81ms2JEG2URt1wua7Wc7woh2yZZIh/cgxJS+HyhgLa4pTGS6FAGYijEPEW4erLbYXcHV8JsLoe2VFit1VCpVpWArvGZGf1ShY4Q5s6EzGVNSLgI3S+WSqoxV+cHn64wn88rIV1lSNkuCZl+X1q+ELLtW3jnclOiw53BNqkdCdku3Z9Op+r09o7TSshqCmJKRwxhHmtCyoBzt2iwJT6bOH5tTYj/hfexETJqyAqpK4kYI5LHQvil2OREQ1ZYFYdJ6sn2Y6BZeV2eV9L+Z3R8Tyg5pMN0NpCThSSXUO9lW33aZbackZbpMjPICHGn8JBwPe96VMXn6y28EorLJCxJdabsFP6D0RRKMJDo8OSh6Kz0FvRPijtiNB4rMY8xEtEEmsL5sYDv6Pknv92CEvK8Y854kHIszmbwkKhJhdSV9w8PD3fxDPb4/w4hdrfwAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"스크린샷 2023-03-04 오후 3.37.21.png\"\n        title=\"\"\n        src=\"/static/d60a9e36c2f297e16ac67dc03f76d443/5bb8b/2.png\"\n        srcset=\"/static/d60a9e36c2f297e16ac67dc03f76d443/772e8/2.png 200w,\n/static/d60a9e36c2f297e16ac67dc03f76d443/e17e5/2.png 400w,\n/static/d60a9e36c2f297e16ac67dc03f76d443/5bb8b/2.png 749w\"\n        sizes=\"(max-width: 749px) 100vw, 749px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>핸들러 API란, MySQL 엔진이 읽기/쓰기 요청 시 스토리지 엔진에 데이터 저장을 요청하는 인터페이스입니다.</p>\n<p>아래와 같이 요청하면 위 그림과 같이 핸들러 요청을 몇번 요청했는지 확인할 수 있습니다.</p>\n<p>(로컬에서 부하테스트를 한적이 있어 커밋 횟수가 굉장히 많은걸 볼 수 있습니다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token keyword\">show</span> <span class=\"token keyword\">global</span> <span class=\"token keyword\">status</span> <span class=\"token operator\">like</span> <span class=\"token string\">'HADNLER%'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"쿼리-캐시라는-말을-들어본것같은데\" style=\"position:relative;\"><a href=\"#%EC%BF%BC%EB%A6%AC-%EC%BA%90%EC%8B%9C%EB%9D%BC%EB%8A%94-%EB%A7%90%EC%9D%84-%EB%93%A4%EC%96%B4%EB%B3%B8%EA%B2%83%EA%B0%99%EC%9D%80%EB%8D%B0\" aria-label=\"쿼리 캐시라는 말을 들어본것같은데 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>쿼리 캐시라는 말을 들어본것같은데,,,</h3>\n<p>(만약  쿼리 캐시기능이 ON으로 설정되어있다면, 파싱,옵티마이징을 건너뛰고 바로 캐시 결과를 반환해주는 기능이 있었는데…없어졌습니다. MySQL8.0부터 확장성 이슈로 Deprecated)</p>\n<p>그렇기에 뒤이어 설명드릴 모든 ‘캐시’에 관련된 내용은 스토리지엔진에서 동작하는 내용으로, 쿼리캐시와 관련이 없습니다.</p>\n<p>참고글 <a href=\"https://dev.mysql.com/blog-archive/mysql-8-0-retiring-support-for-the-query-cache/\">https://dev.mysql.com/blog-archive/mysql-8-0-retiring-support-for-the-query-cache/</a></p>\n<p><strong>스토리지 엔진</strong></p>\n<p>스토리지 엔진의 경우 데이터 처리에 관한 MySQL의 <strong>핸들러 요청을 처리</strong>해주는 부분입니다. 운영체제의 System Call API를 통해 실제 디스크에 있는 데이터에 대한 읽기/쓰기를 처리하는 모듈입니다.</p>\n<p><strong>++) 스레드 풀</strong></p>\n<p>MySQL 엔터프라이즈 에디션(유료) 또는 Percona Server에서는 “스레드 풀” 기능을 지원합니다.</p>\n<p>스레드 풀 기능은 다수의 스레드가 동시에 접근하는 상황을 가정합니다. 만약 100개 커넥션에 대한 요청을 처리해야한다고 가정해봅시다.</p>\n<p>운영체제 입장에서는 100개의 스레드를 처리하기 위해 100개의 스레드를 Ready Queue에 넣고, Round Robin같은 스케쥴링 알고리즘을 통해 CPU를 할당합니다. 이는 반환시간(TurnAround Time)관점에서 굉장히 느린 방법이며, 캐시는 새로운 데이터를 가져오기 위해 잦은 캐시 미스를 발생시켜 성능을 저하시킬 것입니다.</p>\n<p>이때문에 동시에 100개의 스레드를 처리하는것은 10개의 스레드를 처리하는것보다 10배 이상의 시간이 걸리게 됩니다.</p>\n<p>스레드 풀은 <strong>실제 처리하는 스레드의 수를 관리</strong>해 Context Switch Overhead 또는 Cache Affinity(캐시 친화도)측면에서 성능을 개선시키는 방법입니다.</p>\n<p>기본적으로 cpu 코어 개수만큼 스레드 그룹을 생성해 프로세서 친화도를 개선합니다.</p>\n<h2 id=\"스레딩-구조\" style=\"position:relative;\"><a href=\"#%EC%8A%A4%EB%A0%88%EB%94%A9-%EA%B5%AC%EC%A1%B0\" aria-label=\"스레딩 구조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>스레딩 구조</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 541px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0594187eb8c6f59bdd4845e7936868cb/9d576/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 81.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAAIZHRFWHRteGZpbGUAJTNDbXhmaWxlJTIwaG9zdCUzRCUyMmFwcC5kaWFncmFtcy5uZXQlMjIlMjBtb2RpZmllZCUzRCUyMjIwMjMtMDMtMDRUMDYlM0E1NyUzQTE4Ljc1MFolMjIlMjBhZ2VudCUzRCUyMjUuMCUyMChNYWNpbnRvc2glM0IlMjBJbnRlbCUyME1hYyUyME9TJTIwWCUyMDEwXzE1XzcpJTIwQXBwbGVXZWJLaXQlMkY1MzcuMzYlMjAoS0hUTUwlMkMlMjBsaWtlJTIwR2Vja28pJTIwQ2hyb21lJTJGMTA5LjAuMC4wJTIwU2FmYXJpJTJGNTM3LjM2JTIyJTIwZXRhZyUzRCUyMkJNV1Vnbm5GT0x6SXVPQ3lFbGoxJTIyJTIwdmVyc2lvbiUzRCUyMjIwLjguMjMlMjIlMjB0eXBlJTNEJTIyZ29vZ2xlJTIyJTNFJTNDZGlhZ3JhbSUyMG5hbWUlM0QlMjIlRUQlOEUlOTglRUMlOUQlQjQlRUMlQTclODAtMSUyMiUyMGlkJTNEJTIyZm84NWxGcWtkckNZWEpIQWl2MkwlMjIlM0U3VnBiajZNMkZQNDFsdHFISFlFTkJCNGh5YlpxWjlTdDhyRGRSd2VjUUV0d1JKeEpzciUyQiUyQk5wZ0F4a21aRExtTXR0SW9ZeCUyQmJZJTJGdDg1Mm9BYUx6YSUyRjVMamRmeENJNUlDYUVSN2dDWUFRcyUyQjIlMkJLOGdIRXFDRGMyU3NNeVRxQ1ExQ0xQa081RkVRMUszU1VRMnJZbU0wcFFsNnpZeHBGbEdRdGFpNFR5bnUlMkZhMEJVM2JxNjd4a25RSXN4Q25YZXJYSkdKeFNYWGhxS2IlMkZTcEpsWEsxc09sNDVzc0xWWkhtU1RZd2p1bXVRMEJTZ2NVNHBLMXVyJTJGWmlrUW5hVlhNcm5QcDhZUFc0c0p4bnI4OEFxZXZHJTJCeCUyRjd2JTJGcHpRQ2Q2cyUyRm5oZSUyRlBaSmNubkY2VlllJTJCT1V3JTJCJTJGT1prOEIwREZ3ZiUyQkJhWUJzQTNnT3VLaG1jQjN5dEdmUkRZd0IlMkJMYWI0Smd1cVE3RkJKanBFOTMxZXdZVG45aDR4cFNuTk96MmpHaHdPY0pzdU1kME8lMkJkOExwd1NKSlUyVk96RllwNzVtOCUyQlVweWxuQk1mUG5ZS29raXNVeXdpeE5HWm1zY2lqVjNYQUU1TGFmYkxDTGkwSVpnVERNMms1dXFEc3U1a2YxSktacEhiTGhPRTdvaUxEJTJGd0taVkN5NE5LZFRhUjdPOXE1VGpTNG9aaVZEUXM5WEY1NUZ4RHhoc1N0VGNnQ0RzSWd1a0V1SjhMYkRoSUl4Q1V5RTFBVUtEbGNXSUJxb2VBTno2TmREbXFnS29UZUFPb0pvd0FvZ2dUZHhGMmxJQ1BPS0ZMNW9zcjRHT08yZ0RCa1FZZ3FBSEl1UlpBNkxvQU9hbXdzbm5PVzB2UiUyQnVuczdJSlg0QU92Wk1ycDQ1OCUyRkhzakk2Z0d5ZlV1UWJRM0lnZkNLZ2RrUFpBZXZoSml6JTJCVWI4dTZwVkxoYkVDYldBUlNOdmJsekRhOXJtbzFrbGhCMHBrb2hIZnRtbE9ZdnBrbVk0bmRaVUpiVFVjNTRwWFV0WiUyRjAwWU84ZzBCbThaYlNOUnJpa1dPaTlJdmklMkI2elVOeTVnQXlBV0U0WHhKMjdxQW5rTWxKaWxueTJ0N0k0R0llYWV4Q2RVQUFsbzZKMndzRXJsVjR4OEpNM3FubWJrajBhajUzYmNzMmpuQzhTN09ob3RtV29kRnM3NmFhYmQxRHM3bTQ4c05mNHZrbnUlMkJwJTJCayUyQnlLem1UZjZoMWtiMENMY1B0YUJMcW5SYmphU01GVGFLJTJCUkRueFljN0NzSHViZzN0SWN2SzY4TyUyQmFSUmI0b0ZVVkJrdUxOSmduYmttd2JSMyUyQk4lMkZXOU4xTXV5SVN0ZEVsUFJldXVyWE9FTFRmZ0dhOCUyQmxKbEZxaVZJYW5IeXFXVmdxakN4WFlXUXFqRW81ZEJnVmNCNlBmVG5DMVhKcWtBbGs4c1J0eUxlTGFHTUR6JTJCMm1XZzladHc1Z2klMkJZcFhCcjY1ZHl5VkRXN3R3MDNzc1c3MlppYTkxNXFZN0M2Y0ZJVDZGdlptRE0wZEdTZnNFYSUyQndIdmZxbFNDdCUyQnRzUVhTcVpPRUJrZ3k3cDJzZjNWUHRMS1NvblRlVWE3ZHVySGFhJTJCdUZob3JkN1Q0aHRwNDBNdXRTeklOTnVNN3ExWnhrOFFXdDRGdHR0JTJCQmJqeVhQUmVmJTJGQ08xOUludkF6aWVqZThUbHZjanBGVCUyQlUyb0NlQ0gwSk5sZXRZcERxUWo2S21VSk5rJTJGcEFCc0slMkZhM1RVQVFyZWRMaUhrWGFaMnR1WGRWJTJCMDBLYk1vYVNiaWJsbGNJMCUyQkthJTJCU0pLSExFT3ppamFJJTJGRm54eDk4NzBCZUglMkZsQWEyMnNkcWF5dVBHMTcyNnR6RGFhNWNIRUolMkJsT00wSEVKJTJGdSUyRmNiJTJGSlRZOHZ0eCUyRmxCSWI5cWpUTmpGZWklMkJZaUpYc1pyd0p0Nk5wdzU4YmVFTkdxUTV0RzliQzhMcmFlRUdwRnIxYnNxa1BaeVV3cWFqTXFlRmVmWThDQjAlMkZvVHQ4Tk4yek0wa0I2Sjd3MWR5aGNHeUxnMFkzS3N0bTRPVnJ2eGJ2M1pTam05JTJGdllIVGY4RiUzQyUyRmRpYWdyYW0lM0UlM0MlMkZteGZpbGUlM0XY23DVAAACZ0lEQVR42pVU207bQBDN/39GP6DtAw8VglZKSYGGAFLaAGmIFRI7sU18Xe/6svbpWUNIQnkoI428Mztz5rIz7nieh9FohPl8DsuykOc5DDVNs/f9X+oYhw2/pveCtYC7Ql3XqCpNrqB53oC+hzu72ZVlAdteYLVcIkniV1k2RnhibDNvdvil5DY7fjWPiZCwHRf1s85QpZl5vQUwdiUVTV3SKN+yllvAsmowehDo36xwOlzg+j7EwhdI4hDTlcLl+BFfz27RHdzj/LeDWcBAwRTrm2OE4y7iyRnim087gAw7+BOiez1Hb+jgZLiEtYzx6Lu4XUj0xyE+Hvbx+WiAH79WsNZMKpzAvT6AfXkAb3iM9dWHLaCuG8SyRsrMHS+G4yeIkgwFxygSBVkjZ9lKA1GmEaQFZOxB+PdkC8jXqNOHp1fea/wzSSXZN932UuUKmcoQsfwoDJDJDJI6Y10wQK6b/Tl8GQ/zAJJAUYQqjuHPZvAfZsh8HwlfXlJnBj913ZYzz8X87hZFENAnhM7Edg43wPl0AnV+CjXoY/ntGIujw/acU1cu5mg4oznl4vIC65MuZodfIH6eQRke370BaE0h++eQxqF3guC0B3U1QEbAgoC6LCEJqHgfU/fY+w5xQZk+ajL+F7BmSVqkaNjDIo5QJgkatkGnKeqiaO20EK3O3BVsD5RqdZrfzlu7a9bOcEwQYXpq5GZ/O0qt27uIfTW2Rt7b5ZcVJGdZxqAKHhtv/kaKjpK6DVUsO2NGggFd2kjeC5O12eW3MkxpGDOybdtwHAcRyzIOGyoJGIYhAr6usTH3xt7QXwuszwpclrj0AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"_.png\"\n        title=\"\"\n        src=\"/static/0594187eb8c6f59bdd4845e7936868cb/9d576/3.png\"\n        srcset=\"/static/0594187eb8c6f59bdd4845e7936868cb/772e8/3.png 200w,\n/static/0594187eb8c6f59bdd4845e7936868cb/e17e5/3.png 400w,\n/static/0594187eb8c6f59bdd4845e7936868cb/9d576/3.png 541w\"\n        sizes=\"(max-width: 541px) 100vw, 541px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"1-포그라운드-스레드\" style=\"position:relative;\"><a href=\"#1-%ED%8F%AC%EA%B7%B8%EB%9D%BC%EC%9A%B4%EB%93%9C-%EC%8A%A4%EB%A0%88%EB%93%9C\" aria-label=\"1 포그라운드 스레드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) 포그라운드 스레드</h3>\n<p>포그라운드 스레드는 서버에서 처리하는 커넥션수만큼 존재하며 클라이언트에서 요청한 쿼리 문장을 처리하기 위해 존재합니다.</p>\n<p>데이터 읽기 작업을 수행할 경우 데이터 버퍼/캐시에서 가져오며, 여기에 데이터가 존재하지 않는 경우 Handler API를 통해 디스크에서 데이터를 가져옵니다.</p>\n<p><strong>스레드 캐시</strong></p>\n<p>처리를 마치면 포그라운드 스레드 캐시에 저장되고, 같은 요청이 발생했을 때 캐싱을 통해 빠른 속도로 처리할 수 있습니다.</p>\n<p><strong>쓰기지연</strong></p>\n<p>InnoDB 엔진: 포그라운드 스레드는 MySQL엔진의 캐시/버퍼까지만 쓰기를 완료하면 캐시의 데이터를 스토리지 엔진으로 보내는것은 백그라운드 스레드의 역할입니다. 이를 “쓰기 지연”이라고 합니다.</p>\n<h3 id=\"2-백그라운드-스레드\" style=\"position:relative;\"><a href=\"#2-%EB%B0%B1%EA%B7%B8%EB%9D%BC%EC%9A%B4%EB%93%9C-%EC%8A%A4%EB%A0%88%EB%93%9C\" aria-label=\"2 백그라운드 스레드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) 백그라운드 스레드</h3>\n<p>백그라운드 스레드 :인서트버퍼, 로그기록, 잠금/데드락 감지, 버퍼 풀 기록(쓰기지연)</p>\n<h3 id=\"메모리-할당-구조\" style=\"position:relative;\"><a href=\"#%EB%A9%94%EB%AA%A8%EB%A6%AC-%ED%95%A0%EB%8B%B9-%EA%B5%AC%EC%A1%B0\" aria-label=\"메모리 할당 구조 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>메모리 할당 구조</h3>\n<p>메모리 구조 역시 스레드 구조와 비슷하게 사용됩니다.</p>\n<p><strong>글로벌 메모리 영역</strong> - 서버당 하나의 메모리 영역입니다. 모든 스레드가 참조할 수 있지만 일반적으로 백그라운드 스레드가 참조합니다.</p>\n<p>( 필요에 따라 개수를 늘릴 수 있음 )</p>\n<ul>\n<li>테이블 캐시</li>\n<li>버퍼 풀</li>\n<li>어댑티브 해시 인덱스</li>\n<li>리두로그 버퍼</li>\n</ul>\n<p><strong>로컬메모리 영역</strong> -  클라이언트 하나 당 독립된 공간을 사용하며,  포그라운드 스레드가 쿼리를 처리할 때 필요한 메모리 영역입니다.</p>\n<ul>\n<li>정렬 버퍼</li>\n<li>조인 버퍼</li>\n<li>네트워크 버퍼</li>\n<li>바이너리 로그 캐시</li>\n</ul>\n<p>일반적으로 커넥션이 시작될때 할당, 끝날 때 해제되며,  정렬/조인버퍼의 경우 쿼리를 실행하는 순간에만 할당 및 해제됩니다.</p>\n<h3 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h3>\n<p>백은빈,이성욱 저 Real MySQL 8.0 ( <a href=\"http://www.yes24.com/Product/Goods/103415627\">http://www.yes24.com/Product/Goods/103415627</a> )</p>","id":"bb1ae594-3dda-5e6b-9b82-b8539cde20f8","fields":{"slug":"my-sql-아키텍처"},"frontmatter":{"date":"2024-10-16","title":"MySQL 아키텍처","category":"tech","tags":["Real MySQL 스터디","”데이터베이스”","“MySQL”"],"banner":null,"description":"MySQL 아키텍처, MySQL 엔진, 쿼리 처리, 스토리지 엔진, 스레드 풀, 포그라운드/백그라운드 스레드, 메모리 할당 구조, 캐시"},"timeToRead":2},"next":{"excerpt":"InnoDB 스토리지 엔진 InnoDB는 MySQL에서 주로 사용되는 스토리지 엔진의 한 종류입니다. InnoDB는 레코드기반 잠금을통해 높은 동시성 처리가 가능하고, 성능이 안정적인것으로 알려져 있습니다. 아래는 InnoDB 스토리지 엔진의 아키텍처입니다.  프라이머리 키에 의한 클러스터링 Inno DB에서는 Table은 Primary Key를 기준으로 클러스터링되어 저장됩니다. 이는 물리적으로 Primary…","html":"<h1 id=\"innodb-스토리지-엔진\" style=\"position:relative;\"><a href=\"#innodb-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%97%94%EC%A7%84\" aria-label=\"innodb 스토리지 엔진 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>InnoDB 스토리지 엔진</h1>\n<p>InnoDB는 MySQL에서 주로 사용되는 스토리지 엔진의 한 종류입니다.</p>\n<p>InnoDB는 레코드기반 잠금을통해 높은 동시성 처리가 가능하고, 성능이 안정적인것으로 알려져 있습니다.</p>\n<p>아래는 InnoDB 스토리지 엔진의 아키텍처입니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f01111a17a5ed522209f6962ee8fcf16/96e86/InnoDB_.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 76.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAAWrnRFWHRteGZpbGUAJTNDbXhmaWxlJTIwaG9zdCUzRCUyMmFwcC5kaWFncmFtcy5uZXQlMjIlMjBtb2RpZmllZCUzRCUyMjIwMjMtMDMtMDRUMDglM0EzMiUzQTU2LjI0N1olMjIlMjBhZ2VudCUzRCUyMjUuMCUyMChNYWNpbnRvc2glM0IlMjBJbnRlbCUyME1hYyUyME9TJTIwWCUyMDEwXzE1XzcpJTIwQXBwbGVXZWJLaXQlMkY1MzcuMzYlMjAoS0hUTUwlMkMlMjBsaWtlJTIwR2Vja28pJTIwQ2hyb21lJTJGMTA5LjAuMC4wJTIwU2FmYXJpJTJGNTM3LjM2JTIyJTIwZXRhZyUzRCUyMi1LZG5ITUNPeVN6RnVNZllmcXcwJTIyJTIwdmVyc2lvbiUzRCUyMjIwLjguMjMlMjIlMjB0eXBlJTNEJTIyZ29vZ2xlJTIyJTNFJTNDZGlhZ3JhbSUyMG5hbWUlM0QlMjIlRUQlOEUlOTglRUMlOUQlQjQlRUMlQTclODAtMSUyMiUyMGlkJTNEJTIyR3Q2T2NueHFPWjJPRGJGMXc5SEMlMjIlM0U3VjFSZDVzNEZ2NDFuRFB6VUk0a0pDRTkybzY3M1U3bmJIZTYzWjE1SkRHSnZVT01GNU1tbmwlMkIlMkZFZ2dia0xEQkJoemJKRDNVQ0t6QSUyRlQ1ZGZWZFhJTXVaUEwlMkY5TGZKVzgxJTJGRG1SOVlDTXplTE9mT1FnZ2lGNG4lMkZaTWttTGFHY3BBVlAwV0ttVHRvVmZGdjg1YXRDb0VwZkZqTiUyRlhUZ3hEc01nWHF5S2hRJTJGaGN1ayUyRnhJVXlMNHJDMSUyQkpwajJGUSUyRktzcjc4blhDcjQ5ZUlGZSUyQnAlMkZGTEo2bnBReTV1JTJGSlAlMkZ1SnBudjFsU0hsNjVObkxUbFozc3A1N3MlMkZBMVYlMkJSTUxXY1NoV0djZm5wJTJCbSUyRmlCTkY1bWwlMkZSN0h5dU9iaThzOHBkeG5TOTglMkJQd2QwdyUyRkI2cGVQUyUyRkRwJTJCelB6UCUyRiUyRjQlMkZBSFJ0Sm9mWHZDaTdsaGRiYnpKVEJDRkw4dVpMMnVCbGpOJTJCblM5aSUyRjl2S2U1QkhYd1hvb213ZVB3ZnFzS3JPajJMJTJGcmZKQzRmYjJCVyUyRjg4Tm1QbzQwNFJYMkJaQlpUbElHdTJuJTJGZEFVQzVLcHZuakU4ZFZlZ3AwSiUyQjJkZSUyRnNJajRvMHpRd0U4U2daVHM5aHN0WXNSMWl1YjhJZ2trWWhGRlNsJTJGUDQlMkJJZ2VIa1Q1T283Q1AlMkYzY2tSbTlwNFMyWkdtTWJGS3dOU1VHVzJPaTJ4cWk3bXhORHR0YU5LYVYlMkZQaXdDUmJDNkpGejJPTDNLVHhmN3JjRjNzT2ZUd2xvJTJGM2lKUlRXJTJCS2w4cldNaGhtS1pVJTJGcllEQnFWRjJqTUQ3UjNYUUhzSU80T0NIMFpDV25CVmVmdktMWHYzMmVtZ3FWbWdVJTJGSUdER2xtUVNadmdCM1drVmtjM1NyVGlUVWVXeU5zVGNjV3c5YUl5QkpHTEM2dUFWalRPMHQwZTJNbWozSkhuY1klMkZXcU5KQzA1RWZSZWFuSWhQSzV5SXklMkI4QnFNdmJQZHlvaE0xMWJBQW81MDY2TFVLSUhSdGo3akpJQ1hjWW80NkdLQVRjSmhCZ3h0Vld4eGN4bXpMT0NYVWN5RnpYUlYzQmpUVzR2JTJGM3pTd0xyeE9KM0NheDNFdlJ4QWpTYlN0RFZJWnpRWUNRUlI5UjdsdkF0NzllcnJlRnp3Rjh3MU5CMk9VQ0FxNjFiYXElMkZpTUhBQW9TNWxoR3loeklHTkJaSXVkQkJUVzZxRFRWemJjVG1Id2tzNkxpR1lrSTdBMXZ1ZURHd0I3VVQlMkJrNGhpaSUyQnROOTNJUkZETGRkcW5zWHJMdEpVT29TOXBjZTJYV21DUllqcFAyS255MmE3RmlleDBCaTRGclFwZGhXNWg3OTN2SjRMcm12bmRrOFFSZkFhdHNtWk1FYmdFeGttMVZ3aTNBdmFZV2l6QzBkNENJN1NWamFsQ1YlMkZreEU0V28zak9KNSUyQkJRdXZXQzZLeDN2aEpJMDlPNmNMMkc0VW5qOTE0JTJGampWTHYza3NjRnRIMTN4Yng3JTJGTHJ0a3ZVN2glMkI1UTNkdnF1cGtaNk4yMGd1VlYzY01uT0lXdzVmb3dkOXpJalBESHZtQkZ5OSUyQkZQJTJCcUNRajExYSUyRmhRbHpQamk2QTJCalMzRSUyQkJMNDZMYmN3WnhBSnJoMk5RQWpyMm9pYyUyRlZsV1dzTjVlNCUyRkh3TTJPVFRsV1RiTHBVZW1UcHFha1V6TkpCdTRtRFRoMjZhM0djRmVLMld6aDc4TTB0JTJGSjZKOXRDMWdCWndFT2FxYlFFd3hLbU5LV0pNNkMwcUJiWXVvQ0d4Q2NjQ1M3VjF6OWpBRFdHa2pKUHVraTU0MiUyRlBtUlhTbXRIanF0NEg4JTJCNmxMSDBIcDRhY2phJTJCeG0wbHMlMkZtUWF4UkczbExRdDBvUDk3a2FOdENld2ZYcFVsUnVLVVpSZzllMEVDWjNhTyUyQlBTVSUyRkolMkZHYkdPbyUyRm9Ja0dkakpCRms0VGVLOUpNYmpTWXdudU12eEx2RGpXZURIMDhzVU41RXFEaXJ2RzRHZmtzTllFWGxIZkNqNCUyRm5OMk04SUM2ZjJveXpxSjZlZUklMkJvU3NGSjVXQkhZdzdacVlnYk91WFZDaHpoazVDMnVNJTJCQjJ5JTJCZnZSQ3dUWkxzcjl3cUplT0J5UVkzdnJTZEt0RGcwbjlqWVc1d0lvdHl0a1lPdkluTkhQRXl4YUJVRVlaOXVHanI0R01QMjFHZFEyTW5lU1RhN3lYOFh4Y2ZGalFteEVBTUJuUk14aFFEZ3hBSmpyT0ZRY3B1OGJNWDBzODlkTkxsemVyNjZFWldNTmcyVW9SOUxIWHJCNFdvcmRCMkZyUHlvaHE4N0o0UzV4V2p4NHdVaDk3WGt4bXlVNjM4U1hvdmJ2REdnRWJPUnlGd0cxWlUyZHBvUHNIVXZrVmtlNnQxRk1xQTlqdGllenI1MEkySFljUWluT3RnMTl0QURaNFpBQ3ByYk1FRzMzUjRRYUtWOSUyRk9Sdko1TG1FTGZEVzYwWGFPWHBSckJmbnNDdkNzUTJ3YzlFMXNMTlklMkIwenhkZG9NZEtSemFCRkRNaWtyT3pZT3o2Z0NnV0NDQTZBRFJTJTJGbDBNeG5aRFdrbDY5RjJvWjRmcTlub3NnbUxzV1FJJTJCaHd0NXdIcXdqbkJiTGVKbmZhU3A2dzNuY3YzTTdSbFNOY29tWmFZYXREQmREVnFkcjlTRkdCJTJCTXBqSldVZkYlMkZMeWV5S3VRakZGYjglMkJKcll3ZzFTYkROb1BBaTBtZzRnQVRZdFF1T0RkM0w3MVBxcTBqNXBsR3FmYWtkZE5lYzZSNnpUR3lSbmNuU3VHMnBvUzBuJTJCSkRoTm1xNzJPeUQ5TWxMOFJRJTJCQW9HaEV0S3QwaDNzY0tkN1BRdUk3Q3owZVlhZ1gydSUyRjlNVlNxbVhXNHFMU3NlUmhlYlBDcllqeVhKbjE5VWxlNXY4M2xjJTJGV29qN2tzS29GVDl5MEQya003NTY3d0F6UGdxdEJDQmlFR0dlJTJGQlNaNUJESFpoaGl4SWliYlBGeCUyRlNOaHhVa2oxRVUyQjBSMmw0NlFhNERYNmhIYjhoMm94b0JGRThZcFhRVUx1Z3FkTEt4Z3paNm9vb1BwaDBDNGhDeDJRVHNVZ1FUMFN3bzlrJTJGbjM1VEs4RzF1N0Flejd5S29jdms1bnFjbkJhMGhYYnhWRDE5Y1YzMm5abXR6a3ZMWm1SSlltNFNHZ1Q4S0R3RFRicktzNWVFNk5PWGg5ejlEZHpoTGRDZ0REVkVYVG5EeUhkV1VtYkppVVZ6WlRPbFZSbjlSWmFaSFRaeThTVUxTVWd3eDhRaVpMZ2E0c2hReEt0bnRDN1FGdGIxZlN0M0ZNcWNvc1V5Y3plJTJCSXpMTXdmRXZKZkZHcXolMkJ4bzVjRnpwd05NSUElMkJlbXR1U25IYVk1VkppYlpIaHhmbnR2JTJCenVhUUc4WlQ0cGR2TjcybUpGZFhibHlQZkw0eGQlMkZzYVh6Z0hJMXZVN1JNM3FYM2FpeDBRY2FDQnJmZXI3WDAwZjEzYkMxNmJtdnBRJTJCRHYxMW9tQ2RxdnRXb0lodE9mQWpuR3Y1ZGtxTUZsR1olMkJYS1VkNjdWbEtEJTJGVCUyRm5YdzhpVmw5amdNNmg0TjdrMG03NDU0dTY2JTJGRW90bjRSVDNPZG1kZyUyRllHSDZ6SndUYWZRbllIMWNaN3JNckJKJTJCJTJGUnFZY1B6b3J1Uk5NTkRBT20wVEdSNnlPUDl4MHN0alhNeFh1dzZrZUZoMDRyUXV5TVVTWTF4cnV5cFg2VWswaVNzc293MG5OQVpzYmRZSnNrVW1Pd0hnYmRhTDFMZGtad3hYd1N6TDk0bWZJbXplckk5emN6cjE4Vno0QzM5anptY1olMkY2ajk1S0U5dVVXU09TdnFRV3ElMkJmYmFGTGIwcHlVNGNSRk94OUN0UUZPc2l6b2JTWEgxMFlnQ2ZMJTJGSlhNZDRIa2FMdnlScVdSNjlER2tHd2lmZm01V0t4dUZzcyUyRjFXM3VpTDVkeVBGaEtrT01ud3l6TUMlMkZ6RldIJTJCJTJGRE9BNmYxVTZrYkFHTWRKbEY0ZXBmV1VZTm1OdThTbzJMT3lSajhVJTJGWWN5Sm51WkE3JTJCUmdTR2NQZHZ2Z25UNDhFQzViaWlyMUZBcTd2cmVOWGYyMWk0UEUlMkJtMVRrY3clMkZ4QWU5SnlKeEVoMnpLazRFTzRtYmloUmY4SmlPRTVWTlE4cU1tZDFtTUolMkZZUklCVEdld3lTdE5wY09HQiUyRmFjYXdHVThTeFAxbyUyQnNOUGdUJTJGYVIlMkI5cE9IdWh3dzJSVTVYdExOeTROaThRTjd6MFl0SG9SRSUyQjExdWpReG1OQWNHRElhUXg1SyUyQko1SUNGN1BHSHExTllEWWR6QnBiUkRHSzRUeHZUS2x4TThUSTNhJTJCaUFNR1FqVENtR2dZM2lnJTJCQ29aY3lBR0dVVHNPVVRzcHNpSDgybGFmVGJ5NEUlMkYydEtNYjFMVFYlMkZtTmdTQzJHM0pxbUhWeEtPNFM1R1UzckRJUnBoVEEzbzJtenlSZTFCOW9Ia1h0R2tXdDQyNlZSNUdaVFd0b1h1V3h3TVBXUXBNQ001QUZadWclMkI1NWlLM1hGc2ZJbmZvZ2s1a1NET1JlenhoNnRUV2gyWVpYRW83aEtrcGNrJTJGd01EVnE2ME95MUhpQWJtRFFNUXlxcTNvdm4wS0cxNThNcXZlOXFsNElEVyUyQkg2M2RzbDFmU1klMkZBd2hwWjFnMk83MVJPY0JvYlVZc2l0amUwT0xxVWR3dHpLMkM1dHNCRE93S0FtRExxZHdkNGF6MjROc3ZmZHlONXNFdnpaWkclMkZtV2djUGM5RERISDVTN2pwbDd6Q0o3a1NHM0pqc05UeG1OUkRtR01MY2pPeHQ4Q1RZd0tBbURMb1oyY3NiSkF6NmVaaXdvN1VnbWkwcDZoamUwMlY4eXJQOFVyMzI5R1dObDA4UDhVaHY4UWl2NE04aGZpQ25LMzRZMW5jYmZIODlMQSUyQiUyRjJOVVVRdXlEc25sQVVxNnREMSUyRmZZSWhqb0V3dHlsUkhLTmZKb0VGd2RzUWd3OHRYcnBKQjIxZkNEcnJtWGV1YVRaRWhaNU01RUF3em1vN0ZWclcxMnhNNkVLQ0JORzJUNXNha0RnUTEzcE05Y09nb0R0MksyT0VOM05DZ2RjNnRkUXdMVUpxMURxNm01V2xET29QSE9ScGFkSnpTMlFQbEVSNm1WRnNmSHFiQlpPMkJNclVvMDFEblhEeURocWx6SFRHb3JzcTVkQVpCb2olMkZXMk1OYWt6TnZQZDh1dkdKZUtLT1ZSYndnVUMzazRJSnhFRmNRb3RzVkpXbnBEYlZVclZ0YnRaNVhPZGRaT3QlMkZxWmxWSTBNRFAzRkNpR2NzVmFPdnB6dXlsYkIyTXNRMjU1dmNVcDZpMmNrU3l1VHVHRE5ubTQ5RThNdDI4Qjh3amRFR3B0bDVHMElaOGMlMkJ1a2FSaWRYRDZIaG94elZ4eXFHNTljUElleTFld0dlZk8lMkI1YzJtU0pIenFSMDQ1SnlQQmhjZW1YTyUyQmZDJTJGVElOa3prS1llYVc1TjdjQWhBOVFWaDI1SDdRenY3N2trdFZQM1FaTU8xYzZRQVRyZTZSejNTcDhyOERJTmhvd0gwdFFqemMycG5XRlF1U3NPM1l6YUlUcGxlc2c5bDlQTkFxeG84N3VzenliWjdoJTJCcSUyQm1UbjdxMndsNm1sUWc0N3ZaRjJjdGJabVRWeTFoVkU2alpuRGJjYUowdENLMEpWSmExNU9jbGRQTCUyQmpwRFV5REFSTng5WUlXbnhpVFVmVzJMWEd6REl2bmx0aVpiTkZpMHY4S3E1elc4ZHI3TTlDUTFCJTJCM2huVWxhR1paMmxmaHlKRDhEdWRXSnhLR3dzRGMyRjFZS1dMRXJPcHhWbHlWQmdieXc4ajk1MHZVOXdobk5RdG9lbm9hSElEbUowdFVRd05hM2xiaUNiTEFkJTJCTEQwJTJGeWcwUk5OSm9VUG9ranklMkJGb2JGSnBCZUtLZG5WY0J1QWRZSXl4JTJGbWhXcjR1SlE4ZVUzdFV3SGlmZ2dWeGJ2Wk9namclMkIyNUlFQlpVMVhYcm9hR253MjdKVUMySlFvTVZCQW9EMkd1dzVUT3ZNRVR3bjdLSUZkbERpeVUwVUpVOWpJR2lXRkkyQXhsaiUyRjYwJTJCVHI5NTl2bXdjUXNKSVdvalU3NyUyQjZJUVBSM25mVWd3JTJGT3kyOTNxY0NtOG9RMEFPeUMlMkJrNzJ2SWdZVU5raW1GR3FLdk10WnBSalZWT2hWYnlycWVGSnBlWklvUGFEUHMlMkI3SWZINUglMkJqd3pZa2t5VnFrS1E0ZVNGSTZZSmo3MiUyQktCYjhUT2tISEp4UTJMZXVMSk9kJTJGMk4lMkZtTG9NMFQ3blVYdFdSdXFFYlc3SnpxRkUzRXdoV3JWU3UlMkJBekJ2SjFqY0dXV1I5TnpSQUplZEp1UUVhJTJCbm5hYnolMkJ2aDlnOTklMkZOTmh0ZjZhN2k0ZHNNOXRUYyUyRnNlRWFrc1BtQWEyaFVWYThXOVNwMFN2Mks3NnhZYkRsY053OWtmJTJGVVVSMiUyRnBnT1VwV2RwMklOdmZwYm1uaEZNUUV2JTJCRVJhaDRJYUEyRFRzUmJ0RHdqQWtZbTVlVndFQVkyVUE5TFpnQW9CMDF6OUJ6WkJYSkJEZHVqR2pFbWhuNjJhSXZ1SlB2eklCSFolMkJHNnpEbzUyZkhUJTJCeEdZUmpudzNEaFd1YSUyRmhqTmZudkYlMkYlM0MlMkZkaWFncmFtJTNFJTNDJTJGbXhmaWxlJTNF918DVAAAAnpJREFUeNptVGlvozAQ5f//odX2Q5O2W23vKlmpmybNUQgkQCAcNjY28HbslCrd1NLIHjN+8+bC6boOx2JWv9d1jTAMkaYp2raF1vpTmqaxd2Y3ulLK7g6OVmfBWns2H6WU8H0fnuuipYdK1dD00IAYZ2VZWrt+VVUFx3rTZKTkB+RhSSGsgWHREuO2d0omQlTWURAE4JyTLuy32WwGJ93vkftjBOMzsO1fyDJGVe6tQRRGmC/eIXiBdPmI3BsTosKW0uB5LoqiAGPMOjZrOp3CMQxS9xnx6wDxZAB/9BMiWaEhSlkaQRYrVPkGjX+LJriDqjIUJcOeiBjJ89yy/ATkXECXETJ3DB7PKfwDfVkTE38JFt5awGg5QhW/QUkOE1UcR0iSBFmWWZYmrxawIKV8myG6vKD97TOHNQGGwQosuofIXKjVEI13BclSy9CA9QzFccjmEK5cvPwZw10tbfltlckjZyWUSFHxkoom0DXy0B6UD6U0ajobx4wdQn61gJTDYpcgpBB66uaR6UXTNpo6QNUVVZ2TXhGbEjWFfRBmv5kzqA+WizmcDqfLgEpJTESCJntCHvwGj+4gdvdI19coNjeo0yd7Z3Iskwe4kzM83/4ghv9NSj8lWrfguQe9uwQLziHCIZ2vwDbn4JsBmuQXZHQBvh0A+Q3JNcpodAp4PHpSMIhyS623R1vT+Eli/CFG12JnxeiqiqDr8uvoHYP1e9uZFJgideBSgwsFQemo6Cxqbe9Nz7YfufsW8IRpTTNN87x+nSB4f8eGRm49m2K9XCCiYvZ/AmPvfFOTkxQI+hH48zmC4Tnmjw+YvLzAuxjCH48Q7XZf3vwDV5iAObY8iokAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"InnoDB 아키텍처.drawio.png\"\n        title=\"\"\n        src=\"/static/f01111a17a5ed522209f6962ee8fcf16/5a190/InnoDB_.png\"\n        srcset=\"/static/f01111a17a5ed522209f6962ee8fcf16/772e8/InnoDB_.png 200w,\n/static/f01111a17a5ed522209f6962ee8fcf16/e17e5/InnoDB_.png 400w,\n/static/f01111a17a5ed522209f6962ee8fcf16/5a190/InnoDB_.png 800w,\n/static/f01111a17a5ed522209f6962ee8fcf16/96e86/InnoDB_.png 1089w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h3 id=\"프라이머리-키에-의한-클러스터링\" style=\"position:relative;\"><a href=\"#%ED%94%84%EB%9D%BC%EC%9D%B4%EB%A8%B8%EB%A6%AC-%ED%82%A4%EC%97%90-%EC%9D%98%ED%95%9C-%ED%81%B4%EB%9F%AC%EC%8A%A4%ED%84%B0%EB%A7%81\" aria-label=\"프라이머리 키에 의한 클러스터링 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>프라이머리 키에 의한 클러스터링</h3>\n<p>Inno DB에서는 Table은 Primary Key를 기준으로 클러스터링되어 저장됩니다. 이는 물리적으로 Primary키가 연속된 순서로 저장된다는 의미입니다. ( 세컨더리 인덱스의 경우 Primary Key를 논리적인 주소로 사용해 이를 참조하는 방법으로 사용합니다.)</p>\n<p>이를 통해 PK를 이용한 Range Scan이 상당히 빨라지며, 쿼리 실행계획에서도 다른 인덱스보다 PK의 우선순위를 높게 설정합니다.</p>\n<h3 id=\"외래-키-지원\" style=\"position:relative;\"><a href=\"#%EC%99%B8%EB%9E%98-%ED%82%A4-%EC%A7%80%EC%9B%90\" aria-label=\"외래 키 지원 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>외래 키 지원</h3>\n<p><strong>스토리지 엔진 레벨에서 지원</strong>하는 외래 키를 제공합니다.</p>\n<p>외래키는 연관 테이블에 락을 걸고, 이로 인해 데드락이 발생하는 경우가 있어 성능 문제가 발생할 수 있습니다.</p>\n<p>외래 키가 복잡하게 얽힌 경우 여러 테이블로 EX Lock**확인필요이 전파되어 성능저하를 불러일으킵니다.</p>\n<h3 id=\"mvcc--multi-version-concurrency-control\" style=\"position:relative;\"><a href=\"#mvcc--multi-version-concurrency-control\" aria-label=\"mvcc  multi version concurrency control permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MVCC : Multi Version Concurrency Control</h3>\n<p>레코드 레벨 트랜잭션을 지원하기 위해 DBMS가 제공하는 기능이며, 이 기능을 통해 잠금을 사용하지 않는 일관적읽기를 사용할 수 있습니다.</p>\n<p>Buffer Pool: 쿼리 실행결과 레코드를 가지고있는 데이터 영역</p>\n<p>Undo Log: 데이터 변경 시,변경 이전의  커밋된 레코드를 복제해놓는 곳. 이를 참조해 Transaction 취소 시 Rollback을 수행할 수 있습니다.</p>\n<p>Read-Uncommited → buffer pool의 데이터 그대로 읽음</p>\n<p>Read-Committed 이상의 격리수준→ Undo Log의 데이터를 읽음</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 691px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8a24b549a06f08d6a25b7ee89bb4bc4e/e185b/MVCC.drawio.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAMVnRFWHRteGZpbGUAJTNDbXhmaWxlJTIwaG9zdCUzRCUyMmFwcC5kaWFncmFtcy5uZXQlMjIlMjBtb2RpZmllZCUzRCUyMjIwMjMtMDMtMDRUMTElM0E0NCUzQTQ1LjMzNlolMjIlMjBhZ2VudCUzRCUyMjUuMCUyMChNYWNpbnRvc2glM0IlMjBJbnRlbCUyME1hYyUyME9TJTIwWCUyMDEwXzE1XzcpJTIwQXBwbGVXZWJLaXQlMkY1MzcuMzYlMjAoS0hUTUwlMkMlMjBsaWtlJTIwR2Vja28pJTIwQ2hyb21lJTJGMTA5LjAuMC4wJTIwU2FmYXJpJTJGNTM3LjM2JTIyJTIwZXRhZyUzRCUyMjZVWkdPWnRwd0FLcFVFSWtscFZTJTIyJTIwdmVyc2lvbiUzRCUyMjIwLjguMjMlMjIlMjB0eXBlJTNEJTIyZ29vZ2xlJTIyJTNFJTNDZGlhZ3JhbSUyMG5hbWUlM0QlMjIlRUQlOEUlOTglRUMlOUQlQjQlRUMlQTclODAtMSUyMiUyMGlkJTNEJTIyeDVWOGdYclIzNW1rNUZUS21Zc0YlMjIlM0U3Vnh0YzVzNEVQNDF6Q1FmMmdFRUdENENkbDltZXIxTzBrenZQaXBHdHVsaDVNRnliZmZYM3dxRWVSR083UVE3YnNEMU5OSWlaTFQ3N0dxMVdxUWdmNzc1bU9ERjdDOGFrRWpSMVdDam9LR2k2OXJBMXVBUHAyd3ppcWtMd2pRSkE5R29JTnlIdjRrZ3FvSzZDZ095ckRSa2xFWXNYRlNKWXhySFpNd3FOSndrZEYxdE5xRlI5VmNYZUVva3d2MFlSekwxUnhpd1dVYTE5VUZCJTJGMFRDNlN6JTJGWmMxeXNpdHpuRGNXSTFuT2NFRFhKUklhS2NoUEtHVlphYjd4U2NTWmwlMkZNbHUlMkIlMkZEbnF1N0IwdEl6STY1NGU5cDlDNSUyQiUyRlByYjk5YyUyRjczUnRhJTJGeTBIdDZKWG43aGFDVUdMQjZXYlhNT3JHY2hJJTJGY0xQT2IxTlVoWlFkNk16U09vYVZDY2hGSGswNGdtYVdzME1mayUyRlRxY3hLOUd6RDlDWExLSCUyRmtkSVZLJTJGM0FGZkVvSkdGa3MzZU0ybzV6QURsQzU0UWxXMmlTMyUyQkFJWm05cjlYVWhPd01KMnF3c3Q3d2hGbmlaN3ZvdVdBb0Z3ZFVUT0t6TEhCNTVpdXNvanBFV1hNVzEwNEtsdVBBTHFqTHlGY2RXUUc5NFlhQzRRMGtpd0I4bWNUS21NVnoyY0JST1k2aU9nV01rcWNsSHRDbEpqM003QkxTNzRyWjVHQVQ4Wjd3bXFTZDBGUWVFRDFadFIxeW1XUldYcnNyaXNocWtoYzRsTFBSaWRXaUJLenZibDNORmw3bWkyVTBnMXM3RkY2TVJ4SjZ1MkFEaW9XSVBGUyUyRkQ3bEJ4Z0toS1hIc3prRVZxVFRqR0swUFd2QWJJR25XdU5FQjJwOXlYZ2F6VkFGa3dxSmJpcGViVzBSUnU4dFhVOUVMWlYwYXU0ZzM0MVRlTFhmUGFzRHM0akYzd21oYTh5UEJqeXFnbHd3a1RiaUpuQyUyRmg5REljeDUzM0s0VEdOSXJ4WWhtbnJyTVVzaklJdmVFdFhMTzhucjZWT2l1aE1hOGtGQVZmaXZWbGw4NkRCZmx1YXpHZmpYSHkyVCUyQlR6SGZkVHZSbE53dCUyQmN2WkhnWkozM3kzVTRqM0FNRGpBT2FpU1BwZzYlMkZLdWxOR005SUVuTGVNN29RTFNJeVlhTDRTQm1qYzFGSkJHdlVScmtHQ1YxOHg4bVU1RTBhVkc5Qnc1aWwzRFE5JTJCQUolMkZmUldrWThLSWZhaHJSUjIlMkJ2SGtDUG1zTVR3eVE0dDBTdkdScnNudzJWUGFqWHNiUElYVG81MEtISTZIanMlMkJ4ejV2aUEwYkVRUjNldzFzTHhOS3JadHlZekpsWm11SkNjdEFSQUZuSVFQS0pIZ1olMkJUS0YwbHpjQTBrbGhlWUpEMGN6SiUyQlVpU1FaUFNMWklEUWFpSkZMeEtwZlZDa0pqcE5vcUt6Z3M4bjk0WWpHRyUyQk1HZWdpekNOTENTYTc1M3clMkJjdkxKdXdTZHIzaE9ldkMwQVo1TlZkUmw2WjlvSFE1ZzZZamVMb0VsT1JUaFRuc290UWtsVFRWa0xBMWF4ZElSdlYwQVM3cThBTzM5bTlmMmI3WlZPTHlhdTZQTGhrYTdvSmtwQUhMSXlBZ1pYNU45S1FXdU8lMkJYbzVBdW1lalJocUhoNUZOYzJSUVRCOFhzMHZReE5IZk44ZERucXJGczlobHJCVUhkY25vWVElMkZSOGZTek0wTWFyY2Q3QmZPNUttSHhGdTcxM05pN21hR2VxdktKYW15OXNPZlREdFZLR2FIWFV5NWUyUVBwcldHbnE2NWxUS2V6NTlPSzFsTEhYSHVYUjZKJTJCZjZuSnhyQ2FnaGVSZW9ENmdkSzF1bm03NE9ha2c4N1FOcTUwSlR4M3dmSkVkcjglMkZCSWo2RVhZcWd6UGclMkI2amx4Z1ZiaGVZckkzTkhtMk45UmR4bG1aWjRPenpmZk4yY0E4Q1ZndEdmRWhUdzcyc2h4TEtQdjhLNjdLQnYwNmNpeWZwVVVIY2k3elVHUXVRQ1FMTUpmVVpWTGNUNDFnJTJGZ21CNGwxZyUyQkFrdVh6WlFqQnJ5aiUyRnMxMUt1dG9kRGhtT0tGRjAxeXNLOFBGSjhxVk91Z1VOJTJGbTRrbU83ZldCNHRiUTA3WEZrcHolMkIzUWVLVzhaU1p4Wk51VHZWT3puWDVPUmNTNkRZNkRNdm55MWJvNk9abDRZY3klMkJzRHhXZERVOGQ4SDZNaDg3SVBGTGVEb2U3NFBQSWI0eVNZa250UmhabCUyRlJxYzB4dEdvb05iaWprV2JMelNWTUpmVVQ4TFlWb2dLcnhpdHdnMWtrMnolMkY0ZmUlMkZSNGFaRSUyRjRWSGFhVjRhWlMyNVpyM3dCM01QQTBncmMlMkY4c25Ic1JjVSUyQmRSTlY4bVlQTVVmSVNhV3UxVDdHdTU1ZVNraEVXYmhyJTJCcUR0TyUyQmJ5UEdZZXhMeEU0VTRwS3lJSyUyQmxqQXFVcEw5MEE5WTQ3cDdyNkVJJTJGcGZCNHlSb0piQ1FpSHpzNXBQOTZzMTk3eDF4bzJERFN6SWVCc25zdnJNJTJCVTF3WVgxdzY3cXgzdFZONjlOUjV3amRXUmZSdEtGbEVTT0ZSeW5KUDQxcVlpaGF0ZW1Jdkxld0VWVnBLb2VoNVRqakhxUSUyQjRXSDlXQ1A4M0VaUFREbGhleU5kdnV3Q01EUjRGUEMlMkZlZ08lMkZ0eVB2c1AlMkY3a2ZvZDhqend1djY4ZVBUNkc0RUxUNFBsZkolMkJjUmQyUmQ4TnFyT1VicHV5Q2pvTktuaSUyQlk1UWF0dnRobldtajlDUzJvZUk0JTJGTXcyNUhMeFpuS0dxOTRIdnBlOU83eU5yMExWOVBTcmRCJTJGY0EzcTZSdVZFTHoxMFNPVkh1JTJGRm1kcjR6N2l1dXlqZktBUzQ3U3lyM25KMVRCTGM0dm5ncVp5aWhwU3ExRSUyQjFxTGNvNkhoTnpNbmt5VnRzR0RLeWFzMkkyV09LbWs4NnNzOEhnaU5lb1NCeTQlMkZHUkpybndSWGk3RGNaVzFUMnRQeVRFeFVjVXgwUTdZM1VhbmhHeENsdlZtV0pxb1oyYmNjZko2MFIlMkJ2YkV1VmVtOHRtbkowcENVJTJGNG1XUEo2YmlvJTJCMjklMkJJVnZmRW1zN00wYmtQSUJzbUdLdXdwc1NSMGhWRU55JTJGVHpKakE5U1J3QWt2QzAxRTNIbHZROWNQMmdOQ1VZVW1NOTZiSFdGYThvcEl6ZjY3ZW9vTXdoR0Q2Vm1NRHQ3elJESFc3cHBlOGZrU1VGNk9XdW9zSWVIY29yQUhpTEZNMU43cUdkRzhzWk5nYXNic3B2NVpxZlMlMkJvR0V5Skp0Nk81RXljdE1wWExxeXcyNlhiNTBlbnU3RXRTckVteDZ5YlVsQVVLMU9IQTRNdyUyRkZzYzFvOUQ4JTNEJTNDJTJGZGlhZ3JhbSUzRSUzQyUyRm14ZmlsZSUzRT+8Jf0AAAG3SURBVHjabZNZb+JAEIT9/39QVpHytNoHgginIOBwe7lPcx+2a/31ZhJI0lKL8UxPdVX14EmJ7vN/JEmiy+Wi8/ms0+mkw+Ggfr+v8XisXq+n4/Fo+5yT1JNenHxCsY7i2ACv16u2261ms5l837ff9Xpt+/v9XvP5XI1GQ9PpVJvN5hPw8SXQQ+ZNv7ItPb709ezPPg4pBGg0GtnFMAwVpw13u50Bsj+ZTKyxC++PH+qp+DfNgX6/LlUKDgYWRZHCFBAQLgG+ef8mWTt2y+XSrICxd00vxqlWMopik+QkU4g/XMJDmMFmtVqZv64JdSjJZDLydBNOqgNcLBZ2AWmDwUBBEHzsoQBw2OItUa1W5bXbbZVKJaPLFPGG6cGm1WppOByq2WyqXC7bdLvdrjVAYrFYVK1Ws6EBWqlUUskpEz6YXPw+YQIGsOGMRBKJbzQBlEY0ZQ1rmt5JdrKdZOTAlERyvV43Fvl83uR1Oh1ryjlew9Zzvn1NgsdLMexh4N4l1sCUbzcwZ9M3hrcs6UowUSaJVJ4Q6c5cHZOHwI+SHSAgDAlGGJ/NZpXL5VQoFEyuO2dA7m/5D8MNkSHmL4uIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"MVCC.drawio (1).png\"\n        title=\"\"\n        src=\"/static/8a24b549a06f08d6a25b7ee89bb4bc4e/e185b/MVCC.drawio.png\"\n        srcset=\"/static/8a24b549a06f08d6a25b7ee89bb4bc4e/772e8/MVCC.drawio.png 200w,\n/static/8a24b549a06f08d6a25b7ee89bb4bc4e/e17e5/MVCC.drawio.png 400w,\n/static/8a24b549a06f08d6a25b7ee89bb4bc4e/e185b/MVCC.drawio.png 691w\"\n        sizes=\"(max-width: 691px) 100vw, 691px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>잠금 없는 일관된 읽기를 제공합니다. MVCC와 같은 이야기. 순수한 읽기 작업에서 Lock에 의한 대기 없이 데이터를 읽어도 데이터의 일관성이 보장됩니다.</p>\n<p><strong>1) Insert쿼리 커밋 이후 Age를 변경하는 Update 쿼리를 작성</strong></p>\n<p><strong>2) Insert쿼리는 커밋되었지만 Update age=26은 커밋되지 않아 언두로그에 변경 이전 커밋된 데이터가 남아있음</strong></p>\n<ol start=\"3\">\n<li>읽기 격리수준에따라 다른 버전의 데이터를 읽어 락을 적용하지 않고도 격리수준 보장 가능</li>\n</ol>\n<p><strong>3-1) Read-Committed 이상의 엄격한 격리수준에서는 Undo Log에 있는 커밋된 데이터를 읽음</strong></p>\n<p><strong>3-2) Read-UnCommitted 격리수준에서는 커밋되지 않은 버퍼 풀의 데이터를 읽음</strong></p>\n<h3 id=\"자동-데드락-감지\" style=\"position:relative;\"><a href=\"#%EC%9E%90%EB%8F%99-%EB%8D%B0%EB%93%9C%EB%9D%BD-%EA%B0%90%EC%A7%80\" aria-label=\"자동 데드락 감지 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>자동 데드락 감지</h3>\n<p>MySQL에서는 데드락을 탐지하기 위해 잠금 대기 목록을 그래프 형태로 관리합니다. 두 개 이상의 스레드가 락을 획득하는 과정에서 데드락에 빠졌을 때, 부하를 줄이기 위해 언두로그가 적은 순으로 트랜잭션을 강제종료합니다.</p>\n<p>자동 데드락 감지 기능에는 몇가지 한계점이 존재하고, 이를 극복하기 위한 방법들이 있습니다.</p>\n<p><strong>테이블 레벨 잠금</strong></p>\n<p>InnoDB엔진의 상위 레이어인 MySQL엔진에서 관리하는 테이블 잠금은 스토리지 엔진에서 확인할 수 없습니다. 리를 위해 innodb_table_locks 변수를 활성화하면 테이블 레벨 잠금도 확인할 수 있습니다.</p>\n<p><strong>잠금 목록에 대한 잠금</strong></p>\n<p>백그라운드 스레드가 잠금 목록에 접근해 데드락을 탐지하기 위해서는 잠금 목록도 락을 걸어준 후 접근해야 합니다. 이 과정에서 다른 스레드는 잠금목록에 접근하지 못해 병목현상이 생기고, 이는 서비스에 악영향을 미칩니다.</p>\n<p>이를 위해 innodb_deadlock_detect 설정을 OFF로 지정하면 데드락 감지는 더이상 발생하지 않고, innodb_wait_timeout변수를 적절히 설정하면 일정 시간 이후에 자동으로 요청 실패 후 에러메시지를 반환합니다.</p>\n<h3 id=\"innodb-버퍼-풀\" style=\"position:relative;\"><a href=\"#innodb-%EB%B2%84%ED%8D%BC-%ED%92%80\" aria-label=\"innodb 버퍼 풀 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>InnoDB 버퍼 풀</h3>\n<p>디스크 데이터파일, 인덱스 정보 등을 메모리에 캐시해두는 공간입니다.</p>\n<p>DML을 메모리상에서 캐시하면 디스크의 Random IO 횟수를 대폭 줄여 성능이 향상됩니다.</p>\n<p><strong>할당 크기 조절</strong></p>\n<p>버퍼 풀을 통한 캐시 영역이 늘어날수록 성능이 일정부분 향상되지만, MySQL 5.7 이상 버전부터 버퍼 풀을 실행중 동적으로 확장할 수 있게 되었습니다.</p>\n<p>버퍼 풀을 줄이는것은 시스템 영향도가 크므로, 50%에서 시작해 점점 늘려가며 최적점을 찾는것을 권합니다.</p>\n<p>(공식문서에서는 데이터베이스 전용 서버 기준 최대 80%까지 늘려서 사용할 수 있다고 합니다)</p>\n<p><strong>버퍼 풀 개수 설정</strong></p>\n<p>버퍼 풀 전체를 관리하는 잠금으로 인해 버퍼 풀을 하나만 사용하는것은 잠금 경합을 자주 일으키므로, 여러 개의 버퍼 풀을 생성해 잠금 경합을 분산시킬 수 있습니다.</p>\n<p>일반적으로 버퍼 풀에 할당된 메모리 5GB당 1개정도 수준으로 설정하는것을 권장합니다 (40GB의 경우 8개)</p>\n<h3 id=\"버퍼-풀에서-관리하는-데이터-종류\" style=\"position:relative;\"><a href=\"#%EB%B2%84%ED%8D%BC-%ED%92%80%EC%97%90%EC%84%9C-%EA%B4%80%EB%A6%AC%ED%95%98%EB%8A%94-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A2%85%EB%A5%98\" aria-label=\"버퍼 풀에서 관리하는 데이터 종류 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>버퍼 풀에서 관리하는 데이터 종류</h3>\n<ol>\n<li><strong>LRU 리스트 - LRU + MRU 캐시</strong></li>\n</ol>\n<p>LRU 리스트에서는 실질적인 캐싱을 담당하는 데이터/인덱스 페이지를 저장합니다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 376px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2aea8b55cd139e3d2954519780a2cc2f/d38a6/Untitled.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 160.50000000000003%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAgCAIAAACdAM/hAAAACXBIWXMAAAsTAAALEwEAmpwYAAADQ0lEQVR42o2UCW/bNhTH/en3FYYdQLECu9AWK1AgGLx2XVAgzdJsThNfsmxZPmJLpsRDIqnT7v6SYtdLVLXEA/FM68f3+K7Whwdrt9v5hCwFf09In/qX88WZOems1j3fv3LdIIoYpZxzrVSrFg44Mzl/43rvmHjR7f3w5+v22IJ+unaJUnmSRFEkw7Ae5pxJLTfUI8ynuCkMPE6h4yRJYpBaaynlJ+FISRUKiAy4FKzSQ0HBxjH4Rri4GmQpYSlQAsH2cPQRBnC0fziGw4BDZAPcYFnJINrrNXCWZYwxpRSlVAiR53kFwyBI6pPlYlYYl0ENnCRJfzBYLpeGYdizWXVLpBUA2Fwu5hd/vwWm9nAUxU3RhiMHt3FJjNAfuZ2UeQ4Ped79f90LWCA+BixNYtiEdzD+Rak6SMBpniXzxQLvwgOb4HCf4YOIAk6nU5sQMh6PWwdXj90HHGsZIUml6FBUihJsC9i2iedZllVvWXAutXKo7zIK2QTCZQyKQ720sDwF3O31WvA+CAIEAKd5niE8+TZXQly6628H3cfm8JvO5VcnL77vvof+Xf/G1Wo0HK4dxxiNWi9fvWq32+cXF8R1nNXcHNxwRgWlI4+c2NM/ZnZ7Zp+MjHap/G5PfSVTdFaSwF7L933P8yhjZfa0T9w0TTmlFucXxL9iot0fPjs7P7Vs6G+dja9VliT6OM/HDy7fzFZheO15A8YuF4u/ev3OagUds0VEURLvK6z6ervd3iuSNNKxDCCJllmssUOPQp6Vxd3UVUV5qvDQjCjPSkee7w8DGEX0Z/O5NZ3e3t6maYZAVI2BzXVW//7zjjNf1XYVTCFmKBrXdZG50jK66q4lPeJOxiOUdz1c6/Zhhmm8PJJNM+xBV6GTFeeYDQzdEKqiJ6DjBF11B9eOXoRAcn5NNj+ZxrPp5Mfe9denr38xBk+t8c+m4ciwyHPDMBDUv9m4v5rGc2v8xBg8Oj97Ohr+Bh1wGGDoo5sdx6mBy8EUI/PFHC1qIN/leaWXP7dVXcD5evjOhXLXSjqrBabirjzZHX3QBFfL26xNo4s8PXzdZ2DYQdjJZl284sGqh6vBgpCaptnr98eTSadzNZlMDn9V6z8fWh2dS+QT6QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"\"\n        src=\"/static/2aea8b55cd139e3d2954519780a2cc2f/d38a6/Untitled.png\"\n        srcset=\"/static/2aea8b55cd139e3d2954519780a2cc2f/772e8/Untitled.png 200w,\n/static/2aea8b55cd139e3d2954519780a2cc2f/d38a6/Untitled.png 376w\"\n        sizes=\"(max-width: 376px) 100vw, 376px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이미지 출처: <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-buffer-pool.html\">https://dev.mysql.com/doc/refman/8.0/en/innodb-buffer-pool.html</a></p>\n<p>5/8을 기점으로 New/Old Sublist가 존재합니다. 이들은 각각 Double Ended Linked List입니다.</p>\n<p>아래 과정을 통해 자주 사용된 데이터를 관리합니다.</p>\n<p><strong>어댑티브 해시 인덱스 또는 LRU 리스트에서 Cache Hit로 버퍼 풀의 데이터를 캐싱한 경우</strong></p>\n<ul>\n<li>해당 데이터페이지는 New Sublist의 Head로 지정됩니다.</li>\n</ul>\n<p><strong>Cache Miss로 인해 새로운 데이터가 들어오는 경우</strong></p>\n<ul>\n<li>새로운 데이터 페이지는 Old Sublist의 Head로 할당됩니다.\n<ul>\n<li>(read_ahead로 인해 읽힌 페이지는 이 작업을 수행하지 않습니다.)</li>\n<li>read_ahead란 페이지를 포함하는 extent(8~64개 페이지 그룹)를 전부 버퍼 풀에 prefetch하는 작업</li>\n</ul>\n</li>\n</ul>\n<p><strong>캐시에 적재된 후 Age가 임계치를 넘은 경우</strong></p>\n<ul>\n<li>캐시에서 제거합니다 ( Eviction )</li>\n</ul>\n<p><strong>캐시 데이터를 자주 접근한 경우</strong></p>\n<ul>\n<li>어댑티브 해시 인덱스에 적재합니다.</li>\n</ul>\n<p><strong>2)</strong> <strong>Flush 리스트</strong></p>\n<p><strong>더티페이지</strong>(디스크로 동기화되지 않은 데이터) 목록을 관리합니다. 특정 시점이 지날때마다 디스크로 플러시해 디스크와 페이지에 대한 동기화를 관리합니다.</p>\n<p><strong>3) Free 리스트</strong></p>\n<p>버퍼 풀에서 실제 데이터가 아닌 비어있는 페이지의 목록, 디스크로부터 페이지를 새로 읽어올 때 프리 리스트에 있는 페이지에 데이터를 할당합니다.</p>\n<h3 id=\"리두로그\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%EB%91%90%EB%A1%9C%EA%B7%B8\" aria-label=\"리두로그 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리두로그</h3>\n<p>redo log는 InnoDB 스토리지 엔진에서 사용되는 기능으로, 트랜잭션의 변경 내용을 디스크에 기록하기 전에 임시 파일에 기록합니다. 이를 통해, 데이터베이스 서버가 갑작스럽게 종료되는 경우에도 트랜잭션의 내용을 복구할 수 있습니다. 또한, redo log의 크기를 조절하여 성능을 향상시킬 수 있습니다.</p>\n<p><img src=\"./Untitled%201.png\" alt=\"Untitled\"></p>\n<p>이미지 출처 <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-architecture.html\">https://dev.mysql.com/doc/refman/8.0/en/innodb-architecture.html</a></p>\n<p>스토리지 엔진과 디스크상의 파일들의 동작에 대해 설명하는 그림입니다.</p>\n<ol>\n<li>리두로그는 DB recovery작업 중, 불완전한 트랜잭션 등으로 인한 잘못된 데이터를 복구하는 데 사용됩니다.</li>\n</ol>\n<p>InnoDB의 버퍼 풀은 <strong>데이터 캐싱</strong>과 <strong>쓰기 지연</strong>이라는 두 가지 용도가 있습니다.</p>\n<ol start=\"2\">\n<li>리두 로그는  <strong>버퍼 풀의 쓰기지연 성능을 향상시킵니다.</strong></li>\n</ol>\n<p>버퍼 풀의 더티 페이지는 Log Buffer에서 LSN(Log Sequence Number)를 통해 관리하다가 주기적으로 체크포인트 이벤트를 발생해 로그 파일로 이를 동기화합니다.</p>\n<p>또한 트랜잭션이 커밋될 때도 체크포인트 이벤트를 발생해 데이터를 디스크로 동기화합니다.</p>\n<p>앞서 확인했듯 변경되지 않은 데이터는 Undo Log에 저장되어있고 변경된 데이터는 버퍼 풀에 있으니 트랜잭션은 읽기/쓰기 작업을 디스크 I/O없이 수행할 수 있습니다.</p>\n<p>그러므로 리두 로그는 버퍼 풀이 쓰기지연 할 수 있도록 하며, 그 성능은 로그버퍼 크기에 따라 결정됩니다.</p>\n<p>일반적으로 버퍼 풀 크기의 5~10%정도로 할당하고 점진적으로 올리는 방법을 통해 최적화합니다.</p>\n<h3 id=\"더-알아볼-내용\" style=\"position:relative;\"><a href=\"#%EB%8D%94-%EC%95%8C%EC%95%84%EB%B3%BC-%EB%82%B4%EC%9A%A9\" aria-label=\"더 알아볼 내용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>더 알아볼 내용</h3>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\">버퍼 풀 플러시\n\n플러시 리스트 플러시\n\n프리 리스트 플러시</code></pre></div>\n<h3 id=\"undo-log\" style=\"position:relative;\"><a href=\"#undo-log\" aria-label=\"undo log permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Undo Log</h3>\n<p>트랜잭션 및 격리수준을 보장하기 위해 DML 이전에 레코드 상태를 보존하는 메모리 내 저장장소입니다.</p>\n<ul>\n<li>트랜잭션 보장: All or Nothing - 트랜잭션이 완료되지 않고 종료되면 Undo Log에 저장된 데이터로 롤백</li>\n<li>격리수준 보장: 트랜잭션 도중 다른 트랜잭션이 데이터를 읽으려 할 때 격리수준에 맞게 Undo Log의 데이터를 읽도록 함</li>\n</ul>\n<h3 id=\"change-buffer\" style=\"position:relative;\"><a href=\"#change-buffer\" aria-label=\"change buffer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Change Buffer</h3>\n<p>인덱스가 있는 컬럼에 Update를 하거나 Insert, Delete시에는 인덱스를 수정해야하는데 이는 많은 작업을 요합니다. 추후 변경할 인덱스 페이지를 Change Buffer 메모리 영역에 저장해두고 백그라운드 스레드(Merge Thread)가 병합하도록 합니다.</p>\n<p>해당 작업은 Unique Index에 대해서는 수행하지 않으며, 인덱스 관련 모든 작업에 수행할 수 있도록 할 수 있습니다 ( V 5.5+  ~ )</p>\n<p>옵션 - <strong>innodb_change_buffering</strong></p>\n<p>all : 모든 인덱스 관련 작업에 버퍼 수행 (insert,delete, purge)</p>\n<p>none: 모든 작업에 수행하지 않음</p>\n<p>inserts: 삽입작업에 대한 인덱스만 버퍼링</p>\n<p>deletes: 삭제작업(삭제에 대한 마킹)에 대한 인덱스만 버퍼링</p>\n<p>purges: purge(완전 삭제)에 대한 인덱스만 버퍼링</p>\n<h3 id=\"어댑티브-해시-인덱스\" style=\"position:relative;\"><a href=\"#%EC%96%B4%EB%8C%91%ED%8B%B0%EB%B8%8C-%ED%95%B4%EC%8B%9C-%EC%9D%B8%EB%8D%B1%EC%8A%A4\" aria-label=\"어댑티브 해시 인덱스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>어댑티브 해시 인덱스</h3>\n<p>InnoDB 스토리지 엔진에서 사용자가 자주 요청하는 데이터에 대해 자동 생성되는 자료구조.</p>\n<p>B-Tree 인덱스도 결국 데이터 양에 따라 느려지게 되므로, 자주 읽히는 데이터 페이지의 키 값을 이용해 어댑티브 해시 인덱스를 검색해 지정된 데이터 페이지를 즉시 찾아갈 수 있습니다.</p>\n<p><strong>어댑티브 해시 인덱스가 큰 도움이 되는 경우</strong></p>\n<p>디스크의 데이터가 버퍼 풀 크기와 비슷한경우 (읽기가 많지 않은 경우)</p>\n<p>동등 조건 검색이 많은 경우 (In 또는 ==)</p>\n<p>일부 데이터에 대한 집중적인 참조가 있는경우</p>\n<p>→ 비슷한 데이터에 대해 집중적인 참조</p>\n<p><strong>어댑티브 해시 인덱스가 크게 도움되지 않는 경우</strong></p>\n<p>읽기 작업이 많은 경우</p>\n<p>Join또는 Like쿼리가 많은 경우</p>\n<p>넓은 범위의 레코드를 읽는 경우</p>\n<p>→ 다양한 데이터에 대한 참조</p>\n<h1 id=\"innodb외의-스토리지-엔진\" style=\"position:relative;\"><a href=\"#innodb%EC%99%B8%EC%9D%98-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80-%EC%97%94%EC%A7%84\" aria-label=\"innodb외의 스토리지 엔진 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>InnoDB외의 스토리지 엔진</h1>\n<p>InnoDB는 MySQL에서 가장 많이 사용되는 스토리지 엔진 중 하나입니다. 하지만 MySQL에는 InnoDB 외에도 다른 스토리지 엔진이 존재합니다.</p>\n<h2 id=\"myisam\" style=\"position:relative;\"><a href=\"#myisam\" aria-label=\"myisam permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MyISAM</h2>\n<p>MyISAM은 MySQL에서 사용되는 스토리지 엔진 중 하나입니다. MyISAM은 데이터를 인덱스 파일과 데이터 파일로 분리하여 저장합니다. 이렇게 분리함으로써, 인덱스 파일과 데이터 파일을 개별적으로 읽고 쓸 수 있어서 더 빠른 속도를 제공합니다.</p>\n<p>MyISAM은 InnoDB와 달리 트랜잭션 처리를 지원하지 않습니다. 따라서, 트랜잭션이 필요하지 않은 읽기 작업이 많은 경우에 적합합니다. MyISAM은 SELECT 작업이 빈번한 테이블에 적합하며, FULLTEXT 검색 기능도 지원합니다.</p>\n<p>MyISAM은 테이블 락을 사용하기 때문에, 동시에 여러 클라이언트가 데이터를 수정하려고 할 경우에는 성능이 저하될 수 있습니다. 따라서, MyISAM은 읽기 작업이 많은 웹 사이트와 같은 환경에서 적합합니다.</p>\n<p>MyISAM은 InnoDB와 달리 트랜잭션 처리를 지원하지 않습니다. 하지만 대신 매우 빠르고, 덤프 및 복구 과정도 쉽습니다. 또한, Full-text 검색 기능도 지원합니다. MyISAM은 데이터베이스의 읽기 작업이 많은 경우에 적합합니다.</p>\n<h2 id=\"memory\" style=\"position:relative;\"><a href=\"#memory\" aria-label=\"memory permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MEMORY</h2>\n<p>MEMORY 엔진은 디스크 대신 메모리에 데이터를 저장합니다. 데이터가 메모리에 저장됨으로써 빠른 속도를 제공합니다. 하지만, 데이터베이스 서버가 종료되거나 재시작될 경우에는 모든 데이터가 손실됩니다. 따라서, 단기간의 데이터 저장에 적합합니다.</p>\n<h2 id=\"archive\" style=\"position:relative;\"><a href=\"#archive\" aria-label=\"archive permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Archive</h2>\n<p>Archive 엔진은 매우 빠른 INSERT 및 SELECT를 지원합니다. 하지만, 데이터 수정 및 삭제 작업이 느리고, 인덱스 기능이 없습니다. 따라서, 로그나 센서 데이터와 같은 대량의 데이터를 저장할 때 적합합니다.</p>\n<h2 id=\"csv\" style=\"position:relative;\"><a href=\"#csv\" aria-label=\"csv permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CSV</h2>\n<p>CSV 엔진은 CSV 파일 형태로 데이터를 저장합니다. 따라서, 데이터의 가독성과 이식성이 용이합니다. 하지만, 인덱스 기능이 없으며, 대량의 데이터를 처리하기에는 적합하지 않습니다.</p>\n<h2 id=\"federated\" style=\"position:relative;\"><a href=\"#federated\" aria-label=\"federated permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Federated</h2>\n<p>Federated 엔진은 원격 데이터베이스 서버의 테이블에 대한 연결을 지원합니다. 따라서, 여러 데이터베이스 서버에서 데이터를 읽고 쓸 수 있습니다. 하지만, 원격 서버가 다운되면 데이터 접근이 불가능합니다.</p>\n<h2 id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>InnoDB는 MySQL에서 가장 많이 사용되는 스토리지 엔진 중 하나입니다. 하지만, 데이터베이스의 용도에 따라 다른 스토리지 엔진을 사용할 수 있습니다. 적절한 스토리지 엔진을 선택함으로써 더욱 효율적인 데이터베이스 운영이 가능합니다.</p>\n<h3 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h3>\n<p>백은빈,이성욱 저 Real MySQL 8.0 ( <a href=\"http://www.yes24.com/Product/Goods/103415627\">http://www.yes24.com/Product/Goods/103415627</a> )</p>\n<p>MySQL InnoDB 공식문서</p>\n<ul>\n<li>\n<p>innodb engine <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-storage-engine.html\">https://dev.mysql.com/doc/refman/8.0/en/innodb-storage-engine.html</a></p>\n</li>\n<li>\n<p>redo log <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-redo-log.html\">https://dev.mysql.com/doc/refman/8.0/en/innodb-redo-log.html</a></p>\n</li>\n<li>\n<p>buffer pool <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-buffer-pool.html\">https://dev.mysql.com/doc/refman/8.0/en/innodb-buffer-pool.html</a></p>\n</li>\n<li>\n<p>숙제</p>\n<p>멀티 서버에서 선착순 기능</p>\n<p>1)트리거</p>\n<p>2)분산락</p>\n<ol start=\"3\">\n<li></li>\n</ol>\n<p>999명에서 서버 123이 동시에 999를 읽고 나 마지막 1000번째야 라고 요청한 상황</p>\n<p>쿼리 수 제한?</p>\n<p>서버1</p>\n<p>서버2        Queue(1000 Insert Query)      DB EX Lock 1002</p>\n<p>서버3</p>\n<p>EX - 베타락 (쓰기 쿼리를 동작시키는 “쓰레드”가 레코드에 대해 획득)</p>\n<p>S - 쉐어락  (읽기 할 때)</p>\n<p>선착순 1000까지 가능</p>\n<p>(읽기)스레드 A가 레코드 1에대해 S락 획득</p>\n<p>(읽기)스레드 B도 레코드 1에 대해 S락 획득 가능</p>\n<p>(쓰기)스레드 C는 레코드 1에 대해 EX락 획득 가능</p>\n<p>(쓰기)스레드 C는 레코드 1에 대해 EX락 획득</p>\n<p>(쓰기)스레드 B는 레코드 1에 대해 EX락 획득 가능</p>\n<p>(읽기)스레드 A가 레코드 1에대해 S락 획득 불가</p>\n</li>\n</ul>","id":"d31e0774-b1a5-5f54-856e-bd978585b6b9","fields":{"slug":"inno-db-스토리지-엔진"},"frontmatter":{"date":"2024-10-16","title":"InnoDB 스토리지 엔진","category":"tech","tags":["Real MySQL 스터디","”데이터베이스”","“MySQL”"],"banner":null,"description":"InnoDB, Primary Key, MVCC, Buffer Pool, 외래 키, 데드락, Undo Log, Redo Log, 어댑티브 해시 인덱스, 스토리지 엔진"},"timeToRead":6}}},"staticQueryHashes":[],"slicesMap":{}}